<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Zhan Yu - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Zhan Yu - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-rolodex"><a class="link" href="#project-rolodex">Project: Rolodex</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rolodex is a desktop contact management application for users who prefer working without a mouse to manage their contacts more efficiently.
If you are a businessman with a list of clients to remember, a teacher who wants to organize their student information, or anyone with a need for contact
management, Rolodex provides you with a way to organize your important contacts in a fast and productive manner.</p>
</div>
<div class="paragraph">
<p>The user interacts with the application using a CLI (Command Line Interface), and it has a GUI created with JavaFX.
It is written in Java, and has about 10 kLoC.<br></p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/CS2103AUG2017-W11-B2/main/blob/master/collated/main/ZY-Ang.md">Functional Code</a></p>
</li>
<li>
<p><a href="https://github.com/CS2103AUG2017-W11-B2/main/blob/master/collated/test/ZY-Ang.md">Tests</a></p>
</li>
<li>
<p><a href="https://github.com/CS2103AUG2017-W11-B2/main/blob/master/collated/docs/ZY-Ang.md">Pages</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="enhancement-added-find-by-close-words-fuzzy-searching-and-find-by-tags"><a class="link" href="#enhancement-added-find-by-close-words-fuzzy-searching-and-find-by-tags">Enhancement Added: Find by close words (fuzzy searching) and find by tags</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="sect4">
<h5 id="code-find-code-code-filter-code-code-search-code-or-code-f-code-locating-persons-in-rolodex-em-since-v1-4-em"><a class="link" href="#code-find-code-code-filter-code-code-search-code-or-code-f-code-locating-persons-in-rolodex-em-since-v1-4-em"><code>find</code>, <code>filter</code>, <code>search</code> or <code>f</code>: Locating Persons in Rolodex <em>(Since v1.4)</em></a></h5>
<div class="paragraph">
<p>Finds persons in Rolodex.<br>
Format: <code>find KEYWORD [MORE_KEYWORDS] [SORT_ARGUMENTS]</code><br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Press <kbd>Tab</kbd> after typing <code>find</code> to generate the required field(s). See <a href="#autocomplete">3.19. Auto-completion</a> for more details.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatives: <code>find</code> can be replaced by <code>filter</code>, <code>search</code> or <code>f</code><br>
Keyboard shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>F</kbd></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Only the <span class="underline">name</span> and <span class="underline">tags</span> are searched.</p>
</li>
<li>
<p>The <span class="underline">name</span> is searched <em>fuzzily</em>.</p>
</li>
<li>
<p>The <span class="underline">tags</span> is searched <em>exactly</em>.</p>
</li>
<li>
<p>The search will only find <em>distinct persons</em>. e.g. <code>han solo han solo</code> will only return <code>han solo</code></p>
</li>
<li>
<p>The search is <em>case insensitive</em> for <span class="underline">names</span>. e.g. <code>hans</code> will match <code>Hans</code></p>
</li>
<li>
<p>The search is <em>case sensitive</em> for <span class="underline">tags</span>. e.g. only <code>School</code> will match <code>School</code></p>
</li>
<li>
<p>The search is <em>fuzzy</em> for <span class="underline">name words</span> of 4 or more characters. e.g <code>Hnas</code> will match <code>Hans</code></p>
</li>
<li>
<p>The search is <em>exact</em> for <span class="underline">name words</span> of less than 4 characters. e.g. <code>hans</code> will not match <code>Han</code> but <code>han</code> will match <code>Han</code></p>
</li>
<li>
<p>The search is an <em>OR</em> search (i.e. Persons matching at least one keyword will be returned). e.g. <code>Hans Bo</code> will return <code>Hans Gruber</code>, <code>Bo Yang</code></p>
</li>
<li>
<p>The <span class="underline">order of the keywords</span> <em>does not matter</em>. e.g. <code>Hans school Bo</code> will match <code>Bo Hans</code> and others with the <code>school</code> tag</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find John</code> or <code>find jhon</code><br>
Returns <code>john</code> and <code>John Doe</code></p>
</li>
<li>
<p><code>search Betsy Tim John</code><br>
Returns any person having names <code>Betsy</code>, <code>Tim</code>, or <code>John</code></p>
</li>
<li>
<p><code>find School</code><br>
Returns any person having tag <code>School</code></p>
</li>
<li>
<p><code>find School werk</code><br>
Returns any person having tag <code>School</code> or tag <code>werk</code></p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>[SORT_ARGUMENTS]</code> can be none, some, any or all of <code>n/</code> <code>p/</code> <code>e/</code> <code>a/</code> <code>n/desc</code> <code>p/desc</code> <code>e/desc</code> <code>a/desc</code> <code>n/asc</code> <code>p/asc</code>
<code>e/asc</code> <code>a/asc</code>, delimited by spaces, in no particular fixed order.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">name</span> is <code>n/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">phone</span> is <code>p/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">email</span> is <code>e/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">address</span> is <code>a/</code>.</p>
</li>
<li>
<p>The sort argument postfix <code>desc</code> denotes that the sort field is to be sorted in descending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The sort argument postfix <code>asc</code> denotes that the sort field is to be sorted in ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>Sort arguments without a postfix are sorted by ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The order of the <code>SORT_ARGUMENTS</code> are left-prioritized.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Sort arguments <strong>do not count as search arguments</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find John p/</code> or <code>find jhon p/asc</code><br>
Returns <code>john</code> and <code>John Doe</code>, sorted by ascending phone number.</p>
</li>
<li>
<p><code>search Betsy Tim John n/ p/desc</code><br>
Returns any person having names <code>Betsy</code>, <code>Tim</code>, or <code>John</code>, sorted by name then by descending phone if names are equal.</p>
</li>
<li>
<p><code>find School a/desc</code><br>
Returns any person having tag <code>School</code>, sorted by descending address.</p>
</li>
<li>
<p><code>find School werk e/</code><br>
Returns any person having tag <code>School</code> or tag <code>werk</code>, sorted by email.</p>
</li>
<li>
<p><code>find e/ p/desc</code><br>
Returns an error (do not count as search arguments).</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>Users may sometimes key commands too quickly or forget the names of their contacts.
This enhancement allows them to find contacts by close name words or by tags previously assigned to make finding contacts in the Rolodex a lot easier.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="fuzzy-finding-mechanism"><a class="link" href="#fuzzy-finding-mechanism">Fuzzy Finding Mechanism</a></h5>
<div class="paragraph">
<p>The <a href="#fuzzy-finding">fuzzy finding</a> mechanism is powered by <a href="https://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a>,
a string heuristic for measuring the difference between two character sequences. It can be informally viewed as the number
of <em>hops</em> that are required to get from a string to another, where <em>hops</em> are insertions, deletions and substitution
operations.</p>
</div>
<div class="paragraph">
<p>The activity diagram for the <a href="#fuzzy-finding">fuzzy finding</a> can be loosely described as seen in the figure below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FuzzyFindActivityDiagram.png" alt="FuzzyFindActivityDiagram">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A user sends a find request</p>
</li>
<li>
<p>Application looks at all contacts currently in the database</p>
</li>
<li>
<p>If the search parameters loosely match any of the name words of the current contact, add it into the list view.</p>
</li>
<li>
<p>Otherwise, if it is an exact match on any of the name words of the current contact, add it into the list view.</p>
</li>
<li>
<p>Otherwise, if it matches any other conditions specified under the find command, add it into the list view.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a contact&#8217;s name word has a shorter length than the specified global minimum, the condition automatically triggers to false
and starts searching for exact matches.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The settings for the loose matching can be found as a static constant of the Person class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Person</span> <span class="directive">implements</span> ReadOnlyPerson {
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> FIND_NAME_GLOBAL_TOLERANCE = <span class="integer">4</span>;
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> FIND_NAME_DISTANCE_TOLERANCE = <span class="integer">2</span>;
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>FIND_NAME_GLOBAL_TOLERANCE</code> is the global minimum distance of the currently examined name word for the loose matching to execute.
<code>FIND_NAME_DISTANCE_TOLERANCE</code> is the maximum levenshtein distance from the currently examined search parameter
to the currently examined name word in which the contact will be added.</p>
</div>
<div class="sect5">
<h6 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h6>
<div class="paragraph">
<p><strong>Aspect:</strong> Length of name word<br>
<strong>Alternative 1 (current choice):</strong> Use a global minimum for defining when the <a href="#fuzzy-finding">fuzzy finding</a> should execute.<br>
<strong>Pros:</strong> Name words have higher minimum hop to length ratio.<br>
<strong>Cons:</strong> User might need <a href="#fuzzy-finding">fuzzy finding</a> on name words with character length lesser than the global minimum.<br>
<strong>Pros:</strong> Easy logic to understand, implement and maintain.<br>
<strong>Cons:</strong> Rudimentary algorithm.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Location of fuzzy find settings<br>
<strong>Alternative 1 (current choice):</strong> Use private static constant in a person.<br>
<strong>Pros:</strong> User does not need to worry about changing the settings or the intricacies of the <a href="#fuzzy-finding">fuzzy finding</a>.<br>
<strong>Cons:</strong> User might need stricter or looser limits than the ones defined for them.<br>
<strong>Pros:</strong> Developers can easily change and manage settings and limits.<br>
<strong>Cons:</strong> Users have no way of accessing the settings and limits.<br>
<strong>Alternative 2:</strong> Allow user to set fuzzy find settings in a document file.<br>
<strong>Pros:</strong> Advanced users can change the settings to suit their needs better.<br>
<strong>Cons:</strong> Developers need to spend more work maintaining more components including storage.</p>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-sort"><a class="link" href="#enhancement-added-sort">Enhancement Added: Sort</a></h3>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<hr>
<div class="sect4">
<h5 id="code-list-code-code-show-code-code-display-code-or-code-l-code-listing-all-persons-em-since-v1-3-em"><a class="link" href="#code-list-code-code-show-code-code-display-code-or-code-l-code-listing-all-persons-em-since-v1-3-em"><code>list</code>, <code>show</code>, <code>display</code> or <code>l</code>: Listing All Persons <em>(Since v1.3)</em></a></h5>
<div class="paragraph">
<p>Shows a list of all persons in Rolodex, sorted by the specified sort order or default sort order.<br>
Format: <code>list [SORT_ARGUMENTS]</code><br>
Alternatives: <code>list</code> can be replaced by <code>show</code>, <code>display</code> or <code>l</code><br>
Keyboard shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>L</kbd></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>[SORT_ARGUMENTS]</code> can be none, some, any or all of <code>n/</code> <code>p/</code> <code>e/</code> <code>a/</code> <code>n/desc</code> <code>p/desc</code> <code>e/desc</code> <code>a/desc</code> <code>n/asc</code> <code>p/asc</code>
<code>e/asc</code> <code>a/asc</code>, delimited by spaces, in no particular fixed order.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">name</span> is <code>n/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">phone</span> is <code>p/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">email</span> is <code>e/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">address</span> is <code>a/</code>.</p>
</li>
<li>
<p>The sort argument postfix <code>desc</code> denotes that the sort field is to be sorted in descending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The sort argument postfix <code>asc</code> denotes that the sort field is to be sorted in ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>Sort arguments without a postfix are sorted by ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The order of the <code>SORT_ARGUMENTS</code> are left-prioritized.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code> or <code>l</code> displays all persons by the default sort order.</p>
</li>
<li>
<p><code>l n/desc</code> displays all persons sorted by descending name.</p>
</li>
<li>
<p><code>list p/ a/desc</code> or <code>list p/asc a/desc</code> displays all persons sorted by ascending phone, then by descending address.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="code-find-code-code-filter-code-code-search-code-or-code-f-code-locating-persons-in-rolodex-em-since-v1-4-em-2"><a class="link" href="#code-find-code-code-filter-code-code-search-code-or-code-f-code-locating-persons-in-rolodex-em-since-v1-4-em-2"><code>find</code>, <code>filter</code>, <code>search</code> or <code>f</code>: Locating Persons in Rolodex <em>(Since v1.4)</em></a></h5>
<div class="paragraph">
<p>Finds persons in Rolodex.<br>
Format: <code>find KEYWORD [MORE_KEYWORDS] [SORT_ARGUMENTS]</code><br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Press <kbd>Tab</kbd> after typing <code>find</code> to generate the required field(s). See <a href="#autocomplete">3.19. Auto-completion</a> for more details.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatives: <code>find</code> can be replaced by <code>filter</code>, <code>search</code> or <code>f</code><br>
Keyboard shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>F</kbd></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Only the <span class="underline">name</span> and <span class="underline">tags</span> are searched.</p>
</li>
<li>
<p>The <span class="underline">name</span> is searched <em>fuzzily</em>.</p>
</li>
<li>
<p>The <span class="underline">tags</span> is searched <em>exactly</em>.</p>
</li>
<li>
<p>The search will only find <em>distinct persons</em>. e.g. <code>han solo han solo</code> will only return <code>han solo</code></p>
</li>
<li>
<p>The search is <em>case insensitive</em> for <span class="underline">names</span>. e.g. <code>hans</code> will match <code>Hans</code></p>
</li>
<li>
<p>The search is <em>case sensitive</em> for <span class="underline">tags</span>. e.g. only <code>School</code> will match <code>School</code></p>
</li>
<li>
<p>The search is <em>fuzzy</em> for <span class="underline">name words</span> of 4 or more characters. e.g <code>Hnas</code> will match <code>Hans</code></p>
</li>
<li>
<p>The search is <em>exact</em> for <span class="underline">name words</span> of less than 4 characters. e.g. <code>hans</code> will not match <code>Han</code> but <code>han</code> will match <code>Han</code></p>
</li>
<li>
<p>The search is an <em>OR</em> search (i.e. Persons matching at least one keyword will be returned). e.g. <code>Hans Bo</code> will return <code>Hans Gruber</code>, <code>Bo Yang</code></p>
</li>
<li>
<p>The <span class="underline">order of the keywords</span> <em>does not matter</em>. e.g. <code>Hans school Bo</code> will match <code>Bo Hans</code> and others with the <code>school</code> tag</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find John</code> or <code>find jhon</code><br>
Returns <code>john</code> and <code>John Doe</code></p>
</li>
<li>
<p><code>search Betsy Tim John</code><br>
Returns any person having names <code>Betsy</code>, <code>Tim</code>, or <code>John</code></p>
</li>
<li>
<p><code>find School</code><br>
Returns any person having tag <code>School</code></p>
</li>
<li>
<p><code>find School werk</code><br>
Returns any person having tag <code>School</code> or tag <code>werk</code></p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>[SORT_ARGUMENTS]</code> can be none, some, any or all of <code>n/</code> <code>p/</code> <code>e/</code> <code>a/</code> <code>n/desc</code> <code>p/desc</code> <code>e/desc</code> <code>a/desc</code> <code>n/asc</code> <code>p/asc</code>
<code>e/asc</code> <code>a/asc</code>, delimited by spaces, in no particular fixed order.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">name</span> is <code>n/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">phone</span> is <code>p/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">email</span> is <code>e/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">address</span> is <code>a/</code>.</p>
</li>
<li>
<p>The sort argument postfix <code>desc</code> denotes that the sort field is to be sorted in descending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The sort argument postfix <code>asc</code> denotes that the sort field is to be sorted in ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>Sort arguments without a postfix are sorted by ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The order of the <code>SORT_ARGUMENTS</code> are left-prioritized.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Sort arguments <strong>do not count as search arguments</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find John p/</code> or <code>find jhon p/asc</code><br>
Returns <code>john</code> and <code>John Doe</code>, sorted by ascending phone number.</p>
</li>
<li>
<p><code>search Betsy Tim John n/ p/desc</code><br>
Returns any person having names <code>Betsy</code>, <code>Tim</code>, or <code>John</code>, sorted by name then by descending phone if names are equal.</p>
</li>
<li>
<p><code>find School a/desc</code><br>
Returns any person having tag <code>School</code>, sorted by descending address.</p>
</li>
<li>
<p><code>find School werk e/</code><br>
Returns any person having tag <code>School</code> or tag <code>werk</code>, sorted by email.</p>
</li>
<li>
<p><code>find e/ p/desc</code><br>
Returns an error (do not count as search arguments).</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>Users may sometimes have too many contacts in a listing.
This enhancement allows them to find contacts quickly by sorting the displayed list of persons.
Users can operate on a sorted list for longer displayed lists via <code>list</code> or <code>find</code> command.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="sorting-mechanism"><a class="link" href="#sorting-mechanism">Sorting Mechanism</a></h5>
<div class="paragraph">
<p>The sorting mechanism is integrated into the <code>list</code> and <code>find</code> commands which resides in the application&#8217;s <code>logic</code> component.
It supports sorting in ascending or descending order of most fields of a person (e.g. <span class="underline">Name</span>, <span class="underline">Phone</span>).
The sort commands update the state of the application at the model level, which resides in <code>ModelManager</code>,
via the method <code>updateSortComparator</code>.</p>
</div>
<div class="paragraph">
<p>The activity diagram for a sort can be loosely described as seen in the figure below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SortingActivityDiagram.png" alt="SortingActivityDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Sort arguments are case-sensitive.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The case for a list command:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A user executes a <code>list</code> command with sort arguments.</p>
</li>
<li>
<p>The application checks for invalid sort arguments.</p>
</li>
<li>
<p>The application model creates a comparator using the sort arguments, in order.</p>
</li>
<li>
<p>The application displays the results in the specified sort order.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The case for a find command:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A user executes a <code>find</code> command.</p>
</li>
<li>
<p>The application separates the command arguments into find data arguments and sort arguments.</p>
</li>
<li>
<p>The application executes a search on the find arguments.</p>
</li>
<li>
<p>The application model creates a comparator using the sort arguments, in order.</p>
</li>
<li>
<p>The application displays the filtered results in the specified sort order.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Find cannot work on name words matching sort arguments.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The list command&#8217;s <code>execute()</code> implementation before sorting implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> CommandResult execute() {
    model.updateFilteredPersonList(PREDICATE_SHOW_ALL_PERSONS);
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_SUCCESS);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The list command&#8217;s <code>execute()</code> implementation after sorting implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> CommandResult execute() {
    model.updateSortComparator(sortArguments);
    model.updateFilteredPersonList(PREDICATE_SHOW_ALL_PERSONS);
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_SUCCESS);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that <code>model.updateSortComparator(sortArguments)</code> is added to the command logic. The update will give the model a
comparator before executing a sort and filter which is handled by the event consumer.</p>
</div>
<div class="sect5">
<h6 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h6>
<div class="paragraph">
<p><strong>Aspect:</strong> Integrating sort<br>
<strong>Alternative 1 (current choice):</strong> Integrate sort into existing commands.<br>
<strong>Pros:</strong> User can quickly sort and list or find the data as specified without executing another separate command.<br>
<strong>Cons:</strong> User might need to use the sort arguments for other purposes (e.g. <code>find n/</code> does not return anyone matching <code>n/</code>).<br>
<strong>Pros:</strong> Adds onto existing functionality and reduces clutter and unnecessary creation of a new command.<br>
<strong>Cons:</strong> Bad SLAP on a user level.<br>
<strong>Alternative 2:</strong> Create a new <code>sort</code> command.<br>
<strong>Pros:</strong> User can decide when to sort the current list view<br>
<strong>Cons:</strong> User needs an additional step before sorting a list.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Resetting sort comparator on <code>add</code> commands<br>
<strong>Alternative 1 (current choice):</strong> Reset the current displayed list on an <code>add</code> command.<br>
<strong>Pros:</strong> The displayed list always complies with the model comparator.<br>
<strong>Cons:</strong> User might need to continue operating on the previous listing.<br>
<strong>Alternative 2:</strong> Append added person to the current list view.<br>
<strong>Pros:</strong> Users can immediately <code>edit</code> the person using the last listing index.<br>
<strong>Cons:</strong> The displayed listing will not comply with the model comparator.</p>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-open-existing-file-and-create-new-file-commands"><a class="link" href="#enhancement-added-open-existing-file-and-create-new-file-commands">Enhancement Added: Open existing file and Create new file commands</a></h3>
<div class="sect3">
<h4 id="external-behavior-3"><a class="link" href="#external-behavior-3">External behavior</a></h4>
<hr>
<div class="sect4">
<h5 id="code-open-code-code-o-code-code-cd-code-code-ls-code-or-code-code-opening-an-existing-rolodex-storage-file-em-since-v1-3-em"><a class="link" href="#code-open-code-code-o-code-code-cd-code-code-ls-code-or-code-code-opening-an-existing-rolodex-storage-file-em-since-v1-3-em"><code>open</code>, <code>o</code>, <code>cd</code>, <code>ls</code> or <code>&lt;</code>: Opening an Existing Rolodex Storage File <em>(Since v1.3)</em></a></h5>
<div class="paragraph">
<p>Reloads the application with data from a rolodex at the specified filepath.<br>
Format: <code>open FILEPATH</code> or <code>o FILEPATH</code>
Keyboard Shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>O</kbd></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Loads the rolodex at the specified <code>FILEPATH</code>.</p>
</li>
<li>
<p>The <code>FILEPATH</code> can be project-relative or any directory on the system.</p>
</li>
<li>
<p>The <code>FILEPATH</code> must be a file with xml formatted data.</p>
</li>
<li>
<p>The <code>FILEPATH</code> must end with a file extension .rldx in order for data to be saved.</p>
</li>
<li>
<p>If <code>FILEPATH</code> does not exist, use the <code>new</code> command instead.</p>
</li>
<li>
<p>The command recognizes directories in formats <kbd>/</kbd> or <kbd>\</kbd> as valid filepaths</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Opening a file without a .rldx extension will not save your changes.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>open</code> command will refresh your session and all existing <em>undoable</em> commands will be cleared. It is recommended that you confirm you are satisfied with your changes before opening a new file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>open C:/Users/Rolodex/downloads/myOwn.rldx</code><br>
<code>o C:/Users/Rolodex/downloads/myOwn.rldx</code><br>
<code>o C:\Users\Rolodex\downloads\myOwn.rldx</code><br>
Loads the application with the data at the directory <code>C:/Users/Rolodex/downloads/myOwn.rldx</code>.</p>
</li>
<li>
<p><code>open data/default.rldx</code><br>
<code>open data\default.rldx</code><br>
Loads the application with the data in <code>default.rldx</code> in the folder <code>data</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="code-new-code-code-n-code-code-touch-code-or-code-code-creating-a-new-rolodex-storage-file-em-since-v1-3-em"><a class="link" href="#code-new-code-code-n-code-code-touch-code-or-code-code-creating-a-new-rolodex-storage-file-em-since-v1-3-em"><code>new</code>, <code>n</code>, <code>touch</code> or <code>&gt;</code>: Creating a New Rolodex Storage File <em>(Since v1.3)</em></a></h5>
<div class="paragraph">
<p>Creates a new Rolodex at the specified filepath and reloads the application with new sample data.<br>
Format: <code>new FILEPATH</code> or <code>n FILEPATH</code><br>
Keyboard Shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>N</kbd></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Creates the rolodex at the specified <code>FILEPATH</code>.</p>
</li>
<li>
<p>The <code>FILEPATH</code> can be project-relative or any directory on the system.</p>
</li>
<li>
<p>The <code>FILEPATH</code> must end with a file extension .rldx in order for data to be created and saved.</p>
</li>
<li>
<p>If <code>FILEPATH</code> already exists, use the <code>open</code> command instead.</p>
</li>
<li>
<p>The command recognizes directories in formats <kbd>/</kbd> or <kbd>\</kbd> as valid filepaths</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>new</code> command will refresh your session and all existing <em>undoable</em> commands will be cleared. It is recommended that you confirm you are satisfied with your changes before opening a new file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>new C:/Users/Rolodex/downloads/myOwn.rldx</code><br>
<code>n C:/Users/Rolodex/downloads/myOwn.rldx</code><br>
<code>n C:\Users\Rolodex\downloads\myOwn.rldx</code><br>
Creates a new Rolodex file <code>myOwn.rldx</code> at the directory <code>C:\Users\Rolodex\downloads</code> and reloads the application with sample data created for the new Rolodex.</p>
</li>
<li>
<p><code>new data/default.rldx</code><br>
<code>new data\default.rldx</code><br>
Creates a new Rolodex file <code>default.rldx</code> at the relative directory <code>data</code> and reloads the application with sample data created for the new Rolodex.</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="justification-3"><a class="link" href="#justification-3">Justification</a></h4>
<div class="paragraph">
<p>Users may want to work on a different group of data for different purposes.
Users with too many contacts can also create a separate database for dividing up the contacts into smaller,
more manageable sizes.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="open-file-and-new-file-mechanism"><a class="link" href="#open-file-and-new-file-mechanism">Open File and New File Mechanism</a></h5>
<div class="paragraph">
<p>The open new file and creating new file mechanism are handled by two new types of requests under the <code>EventsCenter</code>,
<code>OpenRolodexRequestEvent</code> and <code>RolodexChangedDirectoryEvent</code>. Upon receiving a new command, the <code>MainApp</code> attempts to
reloads the instance <code>model</code> and <code>logic</code> but <strong>not the <code>UI</code></strong>.</p>
</div>
<div class="paragraph">
<p>The high level sequence diagram for a typical <code>open</code> request can be seen below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/OpenNewHighLevelSequenceDiagram.png" alt="OpenNewHighLevelSequenceDiagram">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A user requests to open <code>data/default.rldx</code>.</p>
</li>
<li>
<p>The command is handled the same way as other commands, by the parser in
logic, then via the <code>OpenCommand</code> object itself, under the <code>Logic</code> component of the application.</p>
</li>
<li>
<p>Upon a successful parsing of the command and execution, the command would raise a new <code>OpenRolodexRequestEvent</code> to
be handled by the <code>EventsCenter</code>.</p>
</li>
<li>
<p>The <code>EventsCenter</code> posts a new <code>OpenRolodexRequestEvent</code> back to the <code>MainApp</code> where the new Rolodex path would be
loaded with the successfully read data from the file path specified:</p>
<div class="ulist">
<ul>
<li>
<p>The preferences file of the user specified under <code>config.json</code> would now point to the latest active directory.</p>
</li>
<li>
<p>The <code>storage</code>, <code>model</code> and <code>logic</code> instances of the <code>MainApp</code> would be now loaded with data from the new active directory.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The behaviour of the <code>save</code> operation remains unchanged, to be handled under the <code>RolodexChangedEvent</code>.
The Rolodex only writes to the active database upon an editor command (e.g. <code>add</code>, <code>edit</code>).
The <code>UI</code> however, is updated as seen in the following sequence diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/OpenNewRolodexChangedLocationEventSequenceDiagram.png" alt="OpenNewRolodexChangedLocationEventSequenceDiagram">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Upon successful handling of a <code>OpenRolodexRequestEvent</code>, <code>MainApp</code> raises a new <code>RolodexChangedDirectoryEvent</code>.</p>
</li>
<li>
<p>The event is then reposted by the <code>EventsCenter</code>.</p>
</li>
<li>
<p>The <code>MainWindow</code> of the <code>UI</code> instance consumes the event and updates the status bar with the new active filepath.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <code>New</code> command only differs from the sequence of the open new Rolodex by being executed when no valid file exists at
the specified active directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {
    <span class="keyword">if</span> (<span class="keyword">new</span> <span class="predefined-type">File</span>(filePath).exists()) {
        <span class="keyword">throw</span>  <span class="keyword">new</span> CommandException(<span class="predefined-type">String</span>.format(MESSAGE_ALREADY_EXISTS, filePath));
    } <span class="keyword">else</span> {
        EventsCenter.getInstance().post(<span class="keyword">new</span> OpenRolodexRequestEvent(filePath));
        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_CREATING, filePath));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In contrast, the <code>Open</code> command is a reverse of the above:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {
    <span class="keyword">if</span> (<span class="keyword">new</span> <span class="predefined-type">File</span>(filePath).exists()) {
        EventsCenter.getInstance().post(<span class="keyword">new</span> OpenRolodexRequestEvent(filePath));
        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_OPENING, filePath));
    } <span class="keyword">else</span> {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(<span class="predefined-type">String</span>.format(MESSAGE_NOT_EXIST, filePath));
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>XmlRolodexStorage.java</code> now only saves upon recognizing that the current file has a <code>.rldx</code> extension, which is a
subset of xml for the Rolodex application, as seen in the snippet below:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> saveRolodex(ReadOnlyRolodex rolodex, <span class="predefined-type">String</span> filePath) <span class="directive">throws</span> <span class="exception">IOException</span> {
    ...
    if (!isValidRolodexStorageExtension(filePath)) {
        <span class="keyword">throw</span> <span class="keyword">new</span> InvalidExtensionException(
                <span class="predefined-type">String</span>.format(MESSAGE_INVALID_EXTENSION_FORMAT, ROLODEX_FILE_EXTENSION));
    }
    ...
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h6>
<div class="paragraph">
<p><strong>Aspect:</strong> General Implementation<br>
<strong>Alternative 1 (current choice):</strong> Reload the current <code>MainApp</code> with the new database.<br>
<strong>Pros:</strong> The application can be quickly reloaded onto the active window.<br>
<strong>Cons:</strong> User might need to switch back and forth between the Rolodex directories.<br>
<strong>Alternative 2:</strong> Reload <code>MainApp</code> with a new application instance.<br>
<strong>Constraint:</strong> <a href="#java-fx">JavaFX</a> only allows launch(args) to be launched once per execution time on a code level.
Another approach would be to reload the application with a loaded and built .jar.<br>
<strong>Pros:</strong> Easier logic to understand for new developers.<br>
<strong>Cons:</strong> Building and debugging with a second .jar will be confusing and problematic to any development workflow.<br>
<strong>Alternative 3:</strong> Open a new window with the loaded data.<br>
<strong>Pros:</strong> The user can continue to operate on the previous Rolodex application.<br>
<strong>Cons:</strong> The developer would have to spend time configuring different <code>EventsCenter</code> posts for the different application windows.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Saving only to files with <code>.rldx</code> extensions<br>
<strong>Alternative 1 (current choice):</strong> Write to the active directory only if it has a <code>.rldx</code> extension.<br>
<strong>Pros:</strong> The application control becomes stricter, preventing users from writing to a file with say a <code>.png</code> extension.<br>
<strong>Cons:</strong> Extensions become forced even for valid databases with <code>.xml</code> file types.<br>
<strong>Alternative 2:</strong> Allow writable to all file extensions.<br>
<strong>Pros:</strong> Users can have more freedom in choice of file naming.<br>
<strong>Cons:</strong> If the user accidentally writes to a file that is not a valid database, the user would corrupt the file data.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Separating <code>open</code> and <code>new</code> commands<br>
<strong>Alternative 1 (current choice):</strong> Two commands, one for opening existing files and one for creating new files.<br>
<strong>Pros:</strong> The user can easily be notified if a file exists or if it has been moved.<br>
<strong>Cons:</strong> The user would have to take note of two commands instead of one.<br></p>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-improved-code-java-util-set-code-implementation-for-command-abbreviations"><a class="link" href="#enhancement-improved-code-java-util-set-code-implementation-for-command-abbreviations">Enhancement Improved: <code>java.util.Set</code> implementation for command abbreviations</a></h3>
<div class="sect3">
<h4 id="justification-4"><a class="link" href="#justification-4">Justification</a></h4>
<div class="paragraph">
<p>Using constants to manually check if a command word belongs to a particular command is extremely tedious for both
developers and users. In addition, using constants forces the program to have to check through all possible command
abbreviations belonging to a command word in the worst case. A java <code>HashSet</code> takes care of these problems by improving
access time and improves manageability of the codebase.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="abbreviation-mechanism"><a class="link" href="#abbreviation-mechanism">Abbreviation Mechanism</a></h5>
<div class="paragraph">
<p>The ability for users to enter a variety of different words for a same command is implemented using <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html"><code>java.util.set</code></a>.</p>
</div>
<div class="paragraph">
<p>An example as implemented in the open command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.util.HashSet</span>;
<span class="keyword">import</span> <span class="include">java.util.Set</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">OpenCommand</span> <span class="directive">extends</span> Command {

    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> COMMAND_WORD = <span class="string"><span class="delimiter">&quot;</span><span class="content">open</span><span class="delimiter">&quot;</span></span>;
    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; COMMAND_WORD_ABBREVIATIONS =
            <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;(<span class="predefined-type">Arrays</span>.asList(COMMAND_WORD, <span class="string"><span class="delimiter">&quot;</span><span class="content">o</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">cd</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">ls</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;</span><span class="delimiter">&quot;</span></span>));
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>COMMAND_WORD_ABBREVIATIONS</code> is implemented using a <code>java.util.HashSet</code> which offers reasonably fast access times.</p>
</div>
<div class="paragraph">
<p>The user would be able to use a wide variety of different commands such as <code>o</code>, <code>cd</code> like on Windows cmd, <code>ls</code> on
UNIX-like systems or the loose <code>&lt;</code> such as when you run a <code>java program &lt; input &gt; output</code> on a wide variety of systems.</p>
</div>
<div class="paragraph">
<p>It can easily be seen that using a set implementation, the developer would have an extremely easy time adding/ deleting
new abbreviations. A set implementation also allows an easy way of testing if there are conflicting abbreviations, by
simply permuting the <code>COMMAND_WORD_ABBREVIATIONS</code> property of all possible commands and checking if all permutations are
pairwise disjoint:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="directive">public</span> <span class="type">void</span> parseAllCommandAbbreviationsAreDisjoint() {
    <span class="predefined-type">ArrayList</span>&lt;Pair&lt;<span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt;, <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt;&gt;&gt; commandAbbreviationPermutations =
            generateCommandAbbreviationPermutations(POSSIBLE_COMMAND_ABBREVIATIONS);
    <span class="keyword">for</span> (Pair&lt;<span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt;, <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt;&gt; commandAbbreviationPair : commandAbbreviationPermutations) {
        assertTrue(<span class="predefined-type">Collections</span>.disjoint(commandAbbreviationPair.getKey(), commandAbbreviationPair.getValue()));
    }
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="design-considerations-4"><a class="link" href="#design-considerations-4">Design Considerations</a></h6>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation<br>
<strong>Alternative 1 (current choice):</strong> A <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html">Set</a> of strings<br>
<strong>Pros:</strong> Constant access time per command level. Improves performance and reliability significantly.<br>
<strong>Pros:</strong> Ease of testing for conflicting abbreviations, particularly where developers forget if they used a
same abbreviation for two different commands (e.g. assigning <code>h</code> to both the <code>history</code> and <code>help</code> commands).<br>
<strong>Cons:</strong> If you have a better suggestion than the above implementation, feel free to create a new issue for discussion
on <a href="https://github.com/CS2103AUG2017-W11-B2/main/issues">github</a>.<br>
<strong>Alternative 2 (previous choice):</strong> Manually named string Constants<br>
<strong>Pros:</strong> Forces developer to be more prudent in checking through the conflicting abbreviations.<br>
<strong>Cons:</strong> Developers would have to manually check through all commands to ensure the accuracy of the abbreviations,
which is time-consuming and makes way for human errors.<br>
<strong>Cons:</strong> A switch-case for all possible commands abbreviations would perform significantly slower than direct memory
access on a java <a href="https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html"><code>HashSet</code></a>, in the worst case.</p>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-search-highlighting-in-helpwindow"><a class="link" href="#enhancement-added-search-highlighting-in-helpwindow">Enhancement Added: Search Highlighting in HelpWindow</a></h3>
<div class="sect3">
<h4 id="justification-5"><a class="link" href="#justification-5">Justification</a></h4>
<div class="paragraph">
<p>JavaFx&#8217;s native WebView does not allow the user to easily search a html document, putting it on a subpar standard to modern
web browsers. Implementing a search feature in the help window will allow the user to search for terms in the user guide with ease.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-5"><a class="link" href="#implementation-5">Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="help-window-highlighting"><a class="link" href="#help-window-highlighting">Help Window Highlighting</a></h5>
<div class="paragraph">
<p>Rolodex uses <a href="#java-fx">JavaFx</a> version <a href="http://javafx.com/javafx/8.0.111">8.0.111</a>, where WebView does not support
search functionality that mimics <kbd>Ctrl</kbd> + <kbd>F</kbd> capability of modern web browsers. As a workaround, Johann Burkard&#8217;s
<a href="http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html">jQuery text highlighting</a>
library is being used to implement such a feature.</p>
</div>
<div class="paragraph">
<p>Users can easily find keywords by using the highlighting feature of the help window, as opposed to manually looking through the
help document for information, which can be counterproductive:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Highlight.png" alt="Highlight" width="800">
</div>
</div>
<div class="paragraph">
<p>The discussion for <a href="#java-fx">JavaFX</a> to implement a native search feature within WebView is ongoing and you can find it
<a href="https://stackoverflow.com/questions/19418626/javafx-search-and-highlight-text-add-search-bar-for-loaded-web-page">here</a>.</p>
</div>
<div class="sect5">
<h6 id="removing-jquery-implementation"><a class="link" href="#removing-jquery-implementation">Removing jQuery implementation</a></h6>
<div class="paragraph">
<p>In a future version of <a href="#java-fx">JavaFx</a> where such an implementation is no longer necessary, you may revert the changes by reverting pull request
<a href="https://github.com/CS2103AUG2017-W11-B2/main/pull/99">#99</a> on the Rolodex repo on GitHub. You may also choose to manually do this by reverting the following code:</p>
</div>
<div class="paragraph">
<p>Original <code>HelpWindow.fxml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;StackPane</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">helpWindowRoot</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://javafx.com/javafx/8</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:fx</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://javafx.com/fxml/1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;WebView</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">browser</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/StackPane&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>HelpWindow.fxml</code> with makeshift user guide search functionality:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;StackPane</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">helpWindowRoot</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://javafx.com/javafx/8</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:fx</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://javafx.com/fxml/1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;VBox</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">layout</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;children&gt;</span>
            <span class="tag">&lt;TextField</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">txtSearch</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">promptText</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Search and press ENTER</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
                <span class="tag">&lt;HBox</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">controls</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                    <span class="tag">&lt;children&gt;</span>
                        <span class="tag">&lt;Button</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">btnSearch</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mnemonicParsing</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">text</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Search</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                            <span class="tag">&lt;HBox.margin&gt;</span>
                                <span class="tag">&lt;Insets</span> <span class="attribute-name">right</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10.0</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
                            <span class="tag">&lt;/HBox.margin&gt;</span>
                        <span class="tag">&lt;/Button&gt;</span>
                        <span class="tag">&lt;Button</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">btnClear</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mnemonicParsing</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">text</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Clear</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
                    <span class="tag">&lt;/children&gt;</span>
                <span class="tag">&lt;/HBox&gt;</span>
            <span class="tag">&lt;WebView</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">browser</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">minHeight</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">-Infinity</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">minWidth</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">-Infinity</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">prefHeight</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">100000.0</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;/children&gt;</span>
    <span class="tag">&lt;/VBox&gt;</span>
<span class="tag">&lt;/StackPane&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Original <code>HelpWindow.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FXML</span>
<span class="directive">private</span> WebView browser;

<span class="directive">private</span> <span class="directive">final</span> Stage dialogStage;

<span class="directive">public</span> HelpWindow() {
    <span class="local-variable">super</span>(FXML);
    Scene scene = <span class="keyword">new</span> Scene(getRoot());
    <span class="comment">//Null passed as the parent stage to make it non-modal.</span>
    dialogStage = createDialogStage(TITLE, <span class="predefined-constant">null</span>, scene);
    dialogStage.setMaximized(<span class="predefined-constant">true</span>); <span class="comment">//TODO: set a more appropriate initial size</span>
    FxViewUtil.setStageIcon(dialogStage, ICON);

    <span class="predefined-type">String</span> userGuideUrl = getClass().getResource(HELP_FILE_PATH).toString();
    browser.getEngine().load(userGuideUrl);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>HelpWindow.java</code> with makeshift user guide search functionality:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FXML</span>
<span class="directive">private</span> WebView browser;

<span class="annotation">@FXML</span>
<span class="directive">private</span> <span class="predefined-type">TextField</span> txtSearch;

<span class="annotation">@FXML</span>
<span class="directive">private</span> <span class="predefined-type">Button</span> btnSearch;

<span class="annotation">@FXML</span>
<span class="directive">private</span> <span class="predefined-type">Button</span> btnClear;

<span class="annotation">@FXML</span>
<span class="directive">private</span> HBox controls;

<span class="directive">private</span> <span class="directive">final</span> Stage dialogStage;

<span class="directive">public</span> HelpWindow() {
    <span class="local-variable">super</span>(FXML);

    txtSearch.setOnAction(event -&gt; {
        <span class="keyword">if</span> (browser.getEngine().getDocument() != <span class="predefined-constant">null</span>) {
            highlight(browser.getEngine(), txtSearch.getText());
        }
    });

    btnSearch.setDefaultButton(<span class="predefined-constant">true</span>);
    btnSearch.setOnAction(actionEvent -&gt; txtSearch.fireEvent(<span class="keyword">new</span> <span class="predefined-type">ActionEvent</span>()));

    btnClear.setOnAction(actionEvent -&gt; clearHighlights(browser.getEngine()));
    btnClear.setCancelButton(<span class="predefined-constant">true</span>);

    controls.disableProperty().bind(browser.getEngine().getLoadWorker().runningProperty());
    txtSearch.disableProperty().bind(browser.getEngine().getLoadWorker().runningProperty());

    Scene scene = <span class="keyword">new</span> Scene(getRoot());
    <span class="comment">//Null passed as the parent stage to make it non-modal.</span>
    dialogStage = createDialogStage(TITLE, <span class="predefined-constant">null</span>, scene);
    dialogStage.setMaximized(<span class="predefined-constant">true</span>); <span class="comment">//TODO: set a more appropriate initial size</span>
    FxViewUtil.setStageIcon(dialogStage, ICON);

    <span class="predefined-type">String</span> userGuideUrl = getClass().getResource(HELP_FILE_PATH).toString();
    browser.getEngine().load(userGuideUrl);
}

<span class="directive">private</span> <span class="type">void</span> highlight(WebEngine engine, <span class="predefined-type">String</span> text) {
    engine.executeScript(<span class="string"><span class="delimiter">&quot;</span><span class="content">$('body').removeHighlight().highlight('</span><span class="delimiter">&quot;</span></span> + text + <span class="string"><span class="delimiter">&quot;</span><span class="content">')</span><span class="delimiter">&quot;</span></span>);
}

<span class="directive">private</span> <span class="type">void</span> clearHighlights(WebEngine engine) {
    engine.executeScript(<span class="string"><span class="delimiter">&quot;</span><span class="content">$('body').removeHighlight()</span><span class="delimiter">&quot;</span></span>);
    txtSearch.clear();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Help.adoc</code> passthrough imports:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/javascript</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">scripts/jquery-3.2.1.min.js</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span>
<span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/javascript</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">scripts/jquery.highlight-5.js</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>asciidoctor.css</code> <code>.highlight</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="css"><span class="class">.highlight</span>{<span class="key">background-color</span>:<span class="value">yellow</span>}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-suggesting-commands-for-typos"><a class="link" href="#enhancement-added-suggesting-commands-for-typos">Enhancement Added: Suggesting Commands for Typos</a></h3>
<div class="sect3">
<h4 id="external-behavior-4"><a class="link" href="#external-behavior-4">External behavior</a></h4>
<hr>
<div class="sect4">
<h5 id="code-y-code-or-code-yes-code-or-code-ok-code-or-code-yea-code-or-code-yeah-code-confirming-a-suggested-command-em-since-v1-5rc-em"><a class="link" href="#code-y-code-or-code-yes-code-or-code-ok-code-or-code-yea-code-or-code-yeah-code-confirming-a-suggested-command-em-since-v1-5rc-em"><code>y</code> or <code>yes</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code>: Confirming a suggested command <em>(Since v1.5rc)</em></a></h5>
<div class="paragraph">
<p>Confirms a command suggested by Rolodex.<br>
Format: <code>y</code> or <code>yes</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code><br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A command will be suggested by Rolodex if you make a typo in your command.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>s3</code>, a typo for the command <code>s 3</code> will be suggested.
<code>y</code> or <code>yes</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code> executes <code>s 3</code> as normal and <em>Charlotte Oliviero</em> will be selected:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionSelect.png" alt="SuggestionSelect" width="500">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rmke3 Likes to swim</code> will be suggested as the formatted command, <code>rmk 3 r/Likes to swim</code>.
<code>y</code> or <code>yes</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code> executes <code>rmk 3 r/Likes to swim</code> as normal and <code>Likes to swim</code> will be added to <em>Charlotte Oliviero</em>:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionRemark.png" alt="SuggestionRemark" width="500">
</div>
</div>
</div>
<div class="sect4">
<h5 id="code-y-code-or-code-yes-code-or-code-ok-code-or-code-yea-code-or-code-yeah-code-confirming-a-suggested-command-em-since-v1-5rc-em-2"><a class="link" href="#code-y-code-or-code-yes-code-or-code-ok-code-or-code-yea-code-or-code-yeah-code-confirming-a-suggested-command-em-since-v1-5rc-em-2"><code>y</code> or <code>yes</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code>: Confirming a suggested command <em>(Since v1.5rc)</em></a></h5>
<div class="paragraph">
<p>Confirms a command suggested by Rolodex.<br>
Format: <code>y</code> or <code>yes</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code><br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A command will be suggested by Rolodex if you make a typo in your command.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>s3</code>, a typo for the command <code>s 3</code> will be suggested.
<code>y</code> or <code>yes</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code> executes <code>s 3</code> as normal and <em>Charlotte Oliviero</em> will be selected:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionSelect.png" alt="SuggestionSelect" width="500">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rmke3 Likes to swim</code> will be suggested as the formatted command, <code>rmk 3 r/Likes to swim</code>.
<code>y</code> or <code>yes</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code> executes <code>rmk 3 r/Likes to swim</code> as normal and <code>Likes to swim</code> will be added to <em>Charlotte Oliviero</em>:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionRemark.png" alt="SuggestionRemark" width="500">
</div>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="justification-6"><a class="link" href="#justification-6">Justification</a></h4>
<div class="paragraph">
<p>Users may find it too much of a hassle to remember many of the syntaxes required by Rolodex such as <code>n/</code>, <code>r/</code>, etc.
Suggesting commands for such occasions would give the user a shallow learning curve and improve user experience significantly.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-6"><a class="link" href="#implementation-6">Implementation</a></h4>
<hr>
</div>
<div class="sect3">
<h4 id="suggestions-mechanism"><a class="link" href="#suggestions-mechanism">Suggestions Mechanism</a></h4>
<div class="paragraph">
<p>This feature is a work in progress for v1.5.</p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-markdown-html-parser"><a class="link" href="#enhancement-proposed-markdown-html-parser">Enhancement Proposed: Markdown/HTML parser</a></h3>
<div class="paragraph">
<p>To replace the content field of the note/remark command with 'rich-text', to be displayed on the browser panel.</p>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Updated the General Documentation (Pull requests <a href="https://github.com">#11</a>, <a href="https://github.com">#5</a>)</p>
</li>
<li>
<p>Added continuous integration tools using <a href="https://travis-ci.org/CS2103AUG2017-W11-B2/main">Travis CI</a>,
<a href="https://ci.appveyor.com/project/ZY-Ang/main">AppVeyor</a>,
<a href="https://coveralls.io/github/CS2103AUG2017-W11-B2/main?branch=master">Coveralls</a> and
<a href="https://www.codacy.com/app/ZY-Ang/main/dashboard">Codacy</a>.</p>
</li>
<li>
<p>Added a simple navbar to the github pages for ease of navigation.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-a-href-https-zy-ang-github-io-autonamegenerator-autonamegenerator-a"><a class="link" href="#project-a-href-https-zy-ang-github-io-autonamegenerator-autonamegenerator-a">Project: <a href="https://zy-ang.github.io/AutoNameGenerator/">AutoNameGenerator</a></a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="other-projects"><a class="link" href="#other-projects">Other projects</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can view my full portfolio <a href="https://zy-ang.github.io/Portfolio">here</a>.</p>
</div>
<div id="navbar" class="ulist nav-headbar">
<ul>
<li>
<p><a href="https://cs2103aug2017-w11-b2.github.io/main/">Home</a></p>
</li>
<li>
<p><a href="https://cs2103aug2017-w11-b2.github.io/main/UserGuide.html">User Guide</a></p>
</li>
<li>
<p><a href="https://cs2103aug2017-w11-b2.github.io/main/DeveloperGuide.html">Developer Guide</a></p>
</li>
<li>
<p><a href="https://cs2103aug2017-w11-b2.github.io/main/AboutUs.html">About</a></p>
</li>
<li>
<p><a href="https://cs2103aug2017-w11-b2.github.io/main/ContactUs.html">Contact</a></p>
</li>
<li>
<p><a href="https://github.com/CS2103AUG2017-W11-B2/main">Github</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-11 19:32:43 +00:00
</div>
</div>
</body>
</html>