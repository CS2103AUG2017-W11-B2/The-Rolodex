<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Zhan Yu - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Zhan Yu - Project Portfolio</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This is my portfolio page primarily for showcasing my contributions to the project, Rolodex.</p>
</div>
<div class="paragraph">
<p>This is not my full portfolio. To view my full portfolio, visit <a href="https://zy-ang.github.io/Portfolio">https://zy-ang.github.io/Portfolio</a>.</p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#project-rolodex">1. Project: Rolodex</a>
<ul class="sectlevel2">
<li><a href="#enhancement-added-find-by-close-words-fuzzy-searching-and-find-by-tags">1.1. Enhancement Added: Find by close words (fuzzy searching) and find by tags</a></li>
<li><a href="#enhancement-added-sort">1.2. Enhancement Added: Sort</a></li>
<li><a href="#enhancement-added-open-existing-file-and-create-new-file-commands">1.3. Enhancement Added: Open existing file and Create new file commands</a></li>
<li><a href="#enhancement-improved-code-java-util-set-code-implementation-for-command-abbreviations">1.4. Enhancement Improved: <code>java.util.Set</code> implementation for command abbreviations</a></li>
<li><a href="#enhancement-added-search-highlighting-in-helpwindow">1.5. Enhancement Added: Search Highlighting in HelpWindow</a></li>
<li><a href="#enhancement-added-suggesting-commands-for-typos">1.6. Enhancement Added: Suggesting Commands for Typos</a></li>
<li><a href="#enhancement-proposed-markdown-html-parser">1.7. Enhancement Proposed: Markdown/HTML parser</a></li>
<li><a href="#other-contributions">1.8. Other contributions</a></li>
</ul>
</li>
<li><a href="#project-a-href-https-zy-ang-github-io-autonamegenerator-autonamegenerator-a">2. Project: <a href="https://zy-ang.github.io/AutoNameGenerator/">AutoNameGenerator</a></a></li>
<li><a href="#other-projects">3. Other projects</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="project-rolodex"><a class="link" href="#project-rolodex">1. Project: Rolodex</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rolodex is a desktop contact management application for users who prefer working without a mouse to manage their contacts more efficiently.
If you are a businessman with a list of clients to remember, a teacher who wants to organize their student information, or anyone with a need for contact
management, Rolodex provides you with a way to organize your important contacts in a fast and productive manner.</p>
</div>
<div class="paragraph">
<p>The user interacts with the application using a CLI (Command Line Interface), and it has a GUI created with JavaFX.
It is written in Java, and has about 10 kLoC.<br></p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/CS2103AUG2017-W11-B2/main/blob/master/collated/main/ZY-Ang.md">Functional Code</a></p>
</li>
<li>
<p><a href="https://github.com/CS2103AUG2017-W11-B2/main/blob/master/collated/test/ZY-Ang.md">Tests</a></p>
</li>
<li>
<p><a href="https://github.com/CS2103AUG2017-W11-B2/main/blob/master/collated/main/ZY-Ang-pages.md">Pages</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="enhancement-added-find-by-close-words-fuzzy-searching-and-find-by-tags"><a class="link" href="#enhancement-added-find-by-close-words-fuzzy-searching-and-find-by-tags">1.1. Enhancement Added: Find by close words (fuzzy searching) and find by tags</a></h3>
<div class="sect3">
<h4 id="for-the-user"><a class="link" href="#for-the-user">1.1.1. For the User</a></h4>
<hr>
<div class="sect4">
<h5 id="code-find-code-code-filter-code-code-search-code-or-code-f-code-locating-persons-in-rolodex-em-since-v1-4-em"><a class="link" href="#code-find-code-code-filter-code-code-search-code-or-code-f-code-locating-persons-in-rolodex-em-since-v1-4-em"><code>find</code>, <code>filter</code>, <code>search</code> or <code>f</code>: Locating Persons in Rolodex <em>(Since v1.4)</em></a></h5>
<div class="paragraph">
<p>Finds persons in Rolodex.<br>
Format: <code>find KEYWORD [MORE_KEYWORDS] [SORT_ARGUMENTS]</code><br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Press <kbd>Tab</kbd> after typing <code>find</code> to generate the required field(s). See <a href="#autocomplete">3.2. Auto-completion</a> for more details.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatives: <code>find</code> can be replaced by <code>filter</code>, <code>search</code> or <code>f</code><br>
Keyboard shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>F</kbd></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Only the <span class="underline">name</span> and <span class="underline">tags</span> are searched.</p>
</li>
<li>
<p>The <span class="underline">name</span> is searched <em>fuzzily</em>.</p>
</li>
<li>
<p>The <span class="underline">tags</span> is searched <em>exactly</em>.</p>
</li>
<li>
<p>The search will only find <em>distinct persons</em>. e.g. <code>han solo han solo</code> will only return <code>han solo</code></p>
</li>
<li>
<p>The search is <em>case insensitive</em> for <span class="underline">names</span>. e.g. <code>hans</code> will match <code>Hans</code></p>
</li>
<li>
<p>The search is <em>case sensitive</em> for <span class="underline">tags</span>. e.g. only <code>School</code> will match <code>School</code></p>
</li>
<li>
<p>The search is <em>fuzzy</em> for <span class="underline">name words</span> of 4 or more characters. e.g <code>Hnas</code> will match <code>Hans</code></p>
</li>
<li>
<p>The search is <em>exact</em> for <span class="underline">name words</span> of less than 4 characters. e.g. <code>hans</code> will not match <code>Han</code> but <code>han</code> will match <code>Han</code></p>
</li>
<li>
<p>The search is an <em>OR</em> search (i.e. Persons matching at least one keyword will be returned). e.g. <code>Hans Bo</code> will return <code>Hans Gruber</code>, <code>Bo Yang</code></p>
</li>
<li>
<p>The <span class="underline">order of the keywords</span> <em>does not matter</em>. e.g. <code>Hans school Bo</code> will match <code>Bo Hans</code> and others with the <code>school</code> tag</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find John</code> or <code>find jhon</code><br>
Returns <code>john</code> and <code>John Doe</code></p>
</li>
<li>
<p><code>search Betsy Tim John</code><br>
Returns any person having names <code>Betsy</code>, <code>Tim</code>, or <code>John</code></p>
</li>
<li>
<p><code>find School</code><br>
Returns any person having tag <code>School</code></p>
</li>
<li>
<p><code>find School werk</code><br>
Returns any person having tag <code>School</code> or tag <code>werk</code></p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>[SORT_ARGUMENTS]</code> can be none, some, any or all of <code>n/</code> <code>p/</code> <code>e/</code> <code>a/</code> <code>n/desc</code> <code>p/desc</code> <code>e/desc</code> <code>a/desc</code> <code>n/asc</code> <code>p/asc</code>
<code>e/asc</code> <code>a/asc</code>, delimited by spaces, in no particular fixed order.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">name</span> is <code>n/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">phone</span> is <code>p/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">email</span> is <code>e/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">address</span> is <code>a/</code>.</p>
</li>
<li>
<p>The sort argument postfix <code>desc</code> denotes that the sort field is to be sorted in descending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The sort argument postfix <code>asc</code> denotes that the sort field is to be sorted in ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>Sort arguments without a postfix are sorted by ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The order of the <code>SORT_ARGUMENTS</code> are left-prioritized.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Sort arguments <strong>do not count as search arguments</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find John p/</code> or <code>find jhon p/asc</code><br>
Returns <code>john</code> and <code>John Doe</code>, sorted by ascending phone number.</p>
</li>
<li>
<p><code>search Betsy Tim John n/ p/desc</code><br>
Returns any person having names <code>Betsy</code>, <code>Tim</code>, or <code>John</code>, sorted by name then by descending phone if names are equal.</p>
</li>
<li>
<p><code>find School a/desc</code><br>
Returns any person having tag <code>School</code>, sorted by descending address.</p>
</li>
<li>
<p><code>find School werk e/</code><br>
Returns any person having tag <code>School</code> or tag <code>werk</code>, sorted by email.</p>
</li>
<li>
<p><code>find e/ p/desc</code><br>
Returns an error (do not count as search arguments).</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="why-would-we-need-this"><a class="link" href="#why-would-we-need-this">1.1.2. Why would we need this?</a></h4>
<div class="paragraph">
<p>Users may sometimes key commands too quickly or forget the names of their contacts.
This enhancement allows them to find contacts by close name words or by tags previously assigned to make finding contacts in the Rolodex a lot easier.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">1.1.3. Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="fuzzy-finding-mechanism"><a class="link" href="#fuzzy-finding-mechanism">Fuzzy Finding Mechanism</a></h5>
<div class="paragraph">
<p>The <a href="#fuzzy-finding">fuzzy finding</a> mechanism is powered by <a href="https://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a>,
a string heuristic for measuring the difference between two character sequences. It can be informally viewed as the number
of <em>hops</em> that are required to get from a string to another, where <em>hops</em> are insertions, deletions and substitution
operations.</p>
</div>
<div class="paragraph">
<p>The activity diagram for the <a href="#fuzzy-finding">fuzzy finding</a> can be loosely described as seen in the figure below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FuzzyFindActivityDiagram.png" alt="FuzzyFindActivityDiagram">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A user sends a find request</p>
</li>
<li>
<p>Application looks at all contacts currently in the database</p>
</li>
<li>
<p>If the search parameters loosely match any of the name words of the current contact, add it into the list view.</p>
</li>
<li>
<p>Otherwise, if it is an exact match on any of the name words of the current contact, add it into the list view.</p>
</li>
<li>
<p>Otherwise, if it matches any other conditions specified under the find command, add it into the list view.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a contact&#8217;s name word has a shorter length than the specified global minimum, the condition automatically triggers to false
and starts searching for exact matches.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The settings for the loose matching can be found as a static constant of the Person class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">Person</span> <span class="directive">implements</span> ReadOnlyPerson {
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> FIND_NAME_GLOBAL_TOLERANCE = <span class="integer">4</span>;
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> FIND_NAME_DISTANCE_TOLERANCE = <span class="integer">2</span>;
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>FIND_NAME_GLOBAL_TOLERANCE</code> is the global minimum distance of the currently examined name word for the loose matching to execute.
<code>FIND_NAME_DISTANCE_TOLERANCE</code> is the maximum levenshtein distance from the currently examined search parameter
to the currently examined name word in which the contact will be added.</p>
</div>
<div class="sect5">
<h6 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h6>
<div class="sect6">
<h7 id="length-of-name-word-br"><a class="link" href="#length-of-name-word-br">Length of name word<br></a></h7>
<div class="paragraph">
<p><strong>Alternative 1 (current choice):</strong> Use a global minimum for defining when the <a href="#fuzzy-finding">fuzzy finding</a> should execute.<br>
<strong>Pros:</strong> Name words have higher minimum hop to length ratio.<br>
<strong>Cons:</strong> User might need <a href="#fuzzy-finding">fuzzy finding</a> on name words with character length lesser than the global minimum.<br>
<strong>Pros:</strong> Easy logic to understand, implement and maintain.<br>
<strong>Cons:</strong> Rudimentary algorithm.</p>
</div>
<hr>
</div>
<div class="sect6">
<h7 id="location-of-fuzzy-find-settings-br"><a class="link" href="#location-of-fuzzy-find-settings-br">Location of fuzzy find settings<br></a></h7>
<div class="paragraph">
<p><strong>Alternative 1 (current choice):</strong> Use private static constant in a person.<br>
<strong>Pros:</strong> User does not need to worry about changing the settings or the intricacies of the <a href="#fuzzy-finding">fuzzy finding</a>.<br>
<strong>Cons:</strong> User might need stricter or looser limits than the ones defined for them.<br>
<strong>Pros:</strong> Developers can easily change and manage settings and limits.<br>
<strong>Cons:</strong> Users have no way of accessing the settings and limits.<br></p>
</div>
<div class="paragraph">
<p><strong>Alternative 2:</strong> Allow user to set fuzzy find settings in a document file.<br>
<strong>Pros:</strong> Advanced users can change the settings to suit their needs better.<br>
<strong>Cons:</strong> Developers need to spend more work maintaining more components including storage.</p>
</div>
<hr>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-sort"><a class="link" href="#enhancement-added-sort">1.2. Enhancement Added: Sort</a></h3>
<div class="sect3">
<h4 id="for-the-user-2"><a class="link" href="#for-the-user-2">1.2.1. For the User</a></h4>
<hr>
<div class="sect4">
<h5 id="code-list-code-code-show-code-code-display-code-or-code-l-code-listing-all-persons-em-since-v1-3-em"><a class="link" href="#code-list-code-code-show-code-code-display-code-or-code-l-code-listing-all-persons-em-since-v1-3-em"><code>list</code>, <code>show</code>, <code>display</code> or <code>l</code>: Listing All Persons <em>(Since v1.3)</em></a></h5>
<div class="paragraph">
<p>Shows a list of all persons in Rolodex, sorted by the specified sort order or default sort order.<br>
Format: <code>list [SORT_ARGUMENTS]</code><br>
Alternatives: <code>list</code> can be replaced by <code>show</code>, <code>display</code> or <code>l</code><br>
Keyboard shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>L</kbd></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>[SORT_ARGUMENTS]</code> can be none, some, any or all of <code>n/</code> <code>p/</code> <code>e/</code> <code>a/</code> <code>n/desc</code> <code>p/desc</code> <code>e/desc</code> <code>a/desc</code> <code>n/asc</code> <code>p/asc</code>
<code>e/asc</code> <code>a/asc</code>, delimited by spaces, in no particular fixed order.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">name</span> is <code>n/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">phone</span> is <code>p/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">email</span> is <code>e/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">address</span> is <code>a/</code>.</p>
</li>
<li>
<p>The sort argument postfix <code>desc</code> denotes that the sort field is to be sorted in descending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The sort argument postfix <code>asc</code> denotes that the sort field is to be sorted in ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>Sort arguments without a postfix are sorted by ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The order of the <code>SORT_ARGUMENTS</code> are left-prioritized.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>list</code> or <code>l</code> displays all persons by the default sort order.</p>
</li>
<li>
<p><code>l n/desc</code> displays all persons sorted by descending name.</p>
</li>
<li>
<p><code>list p/ a/desc</code> or <code>list p/asc a/desc</code> displays all persons sorted by ascending phone, then by descending address.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="code-find-code-code-filter-code-code-search-code-or-code-f-code-locating-persons-in-rolodex-em-since-v1-4-em-2"><a class="link" href="#code-find-code-code-filter-code-code-search-code-or-code-f-code-locating-persons-in-rolodex-em-since-v1-4-em-2"><code>find</code>, <code>filter</code>, <code>search</code> or <code>f</code>: Locating Persons in Rolodex <em>(Since v1.4)</em></a></h5>
<div class="paragraph">
<p>Finds persons in Rolodex.<br>
Format: <code>find KEYWORD [MORE_KEYWORDS] [SORT_ARGUMENTS]</code><br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Press <kbd>Tab</kbd> after typing <code>find</code> to generate the required field(s). See <a href="#autocomplete">3.2. Auto-completion</a> for more details.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alternatives: <code>find</code> can be replaced by <code>filter</code>, <code>search</code> or <code>f</code><br>
Keyboard shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>F</kbd></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Only the <span class="underline">name</span> and <span class="underline">tags</span> are searched.</p>
</li>
<li>
<p>The <span class="underline">name</span> is searched <em>fuzzily</em>.</p>
</li>
<li>
<p>The <span class="underline">tags</span> is searched <em>exactly</em>.</p>
</li>
<li>
<p>The search will only find <em>distinct persons</em>. e.g. <code>han solo han solo</code> will only return <code>han solo</code></p>
</li>
<li>
<p>The search is <em>case insensitive</em> for <span class="underline">names</span>. e.g. <code>hans</code> will match <code>Hans</code></p>
</li>
<li>
<p>The search is <em>case sensitive</em> for <span class="underline">tags</span>. e.g. only <code>School</code> will match <code>School</code></p>
</li>
<li>
<p>The search is <em>fuzzy</em> for <span class="underline">name words</span> of 4 or more characters. e.g <code>Hnas</code> will match <code>Hans</code></p>
</li>
<li>
<p>The search is <em>exact</em> for <span class="underline">name words</span> of less than 4 characters. e.g. <code>hans</code> will not match <code>Han</code> but <code>han</code> will match <code>Han</code></p>
</li>
<li>
<p>The search is an <em>OR</em> search (i.e. Persons matching at least one keyword will be returned). e.g. <code>Hans Bo</code> will return <code>Hans Gruber</code>, <code>Bo Yang</code></p>
</li>
<li>
<p>The <span class="underline">order of the keywords</span> <em>does not matter</em>. e.g. <code>Hans school Bo</code> will match <code>Bo Hans</code> and others with the <code>school</code> tag</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find John</code> or <code>find jhon</code><br>
Returns <code>john</code> and <code>John Doe</code></p>
</li>
<li>
<p><code>search Betsy Tim John</code><br>
Returns any person having names <code>Betsy</code>, <code>Tim</code>, or <code>John</code></p>
</li>
<li>
<p><code>find School</code><br>
Returns any person having tag <code>School</code></p>
</li>
<li>
<p><code>find School werk</code><br>
Returns any person having tag <code>School</code> or tag <code>werk</code></p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>[SORT_ARGUMENTS]</code> can be none, some, any or all of <code>n/</code> <code>p/</code> <code>e/</code> <code>a/</code> <code>n/desc</code> <code>p/desc</code> <code>e/desc</code> <code>a/desc</code> <code>n/asc</code> <code>p/asc</code>
<code>e/asc</code> <code>a/asc</code>, delimited by spaces, in no particular fixed order.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">name</span> is <code>n/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">phone</span> is <code>p/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">email</span> is <code>e/</code>.</p>
</li>
<li>
<p>The sort argument prefix for sorting by <span class="underline">address</span> is <code>a/</code>.</p>
</li>
<li>
<p>The sort argument postfix <code>desc</code> denotes that the sort field is to be sorted in descending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The sort argument postfix <code>asc</code> denotes that the sort field is to be sorted in ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>Sort arguments without a postfix are sorted by ascending <a href="#lexicographic">lexicographical</a> order.</p>
</li>
<li>
<p>The order of the <code>SORT_ARGUMENTS</code> are left-prioritized.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Sort arguments <strong>do not count as search arguments</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find John p/</code> or <code>find jhon p/asc</code><br>
Returns <code>john</code> and <code>John Doe</code>, sorted by ascending phone number.</p>
</li>
<li>
<p><code>search Betsy Tim John n/ p/desc</code><br>
Returns any person having names <code>Betsy</code>, <code>Tim</code>, or <code>John</code>, sorted by name then by descending phone if names are equal.</p>
</li>
<li>
<p><code>find School a/desc</code><br>
Returns any person having tag <code>School</code>, sorted by descending address.</p>
</li>
<li>
<p><code>find School werk e/</code><br>
Returns any person having tag <code>School</code> or tag <code>werk</code>, sorted by email.</p>
</li>
<li>
<p><code>find e/ p/desc</code><br>
Returns an error (do not count as search arguments).</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="why-would-we-need-this-2"><a class="link" href="#why-would-we-need-this-2">1.2.2. Why would we need this?</a></h4>
<div class="paragraph">
<p>Users may sometimes have too many contacts in a listing.
This enhancement allows them to find contacts quickly by sorting the displayed list of persons.
Users can operate on a sorted list for longer displayed lists via <code>list</code> or <code>find</code> command.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">1.2.3. Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="sorting-mechanism"><a class="link" href="#sorting-mechanism">Sorting Mechanism</a></h5>
<div class="paragraph">
<p>The sorting mechanism is integrated into the <code>list</code> and <code>find</code> commands which resides in the application&#8217;s <code>logic</code> component.
It supports sorting in ascending or descending order of most fields of a person (e.g. <span class="underline">Name</span>, <span class="underline">Phone</span>).
The sort commands update the state of the application at the model level, which resides in <code>ModelManager</code>,
via the method <code>updateSortComparator</code>.</p>
</div>
<div class="paragraph">
<p>The activity diagram for a sort can be loosely described as seen in the figure below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SortingActivityDiagram.png" alt="SortingActivityDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Sort arguments are case-sensitive.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The case for a list command:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A user executes a <code>list</code> command with sort arguments.</p>
</li>
<li>
<p>The application checks for invalid sort arguments.</p>
</li>
<li>
<p>The application model creates a comparator using the sort arguments, in order.</p>
</li>
<li>
<p>The application displays the results in the specified sort order.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The case for a find command:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A user executes a <code>find</code> command.</p>
</li>
<li>
<p>The application separates the command arguments into find data arguments and sort arguments.</p>
</li>
<li>
<p>The application executes a search on the find arguments.</p>
</li>
<li>
<p>The application model creates a comparator using the sort arguments, in order.</p>
</li>
<li>
<p>The application displays the filtered results in the specified sort order.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Find cannot work on name words matching sort arguments.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The list command&#8217;s <code>execute()</code> implementation before sorting implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> CommandResult execute() {
    model.updateFilteredPersonList(PREDICATE_SHOW_ALL_PERSONS);
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_SUCCESS);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The list command&#8217;s <code>execute()</code> implementation after sorting implementation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> CommandResult execute() {
    model.updateSortComparator(sortArguments);
    model.updateFilteredPersonList(PREDICATE_SHOW_ALL_PERSONS);
    <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(MESSAGE_SUCCESS);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that <code>model.updateSortComparator(sortArguments)</code> is added to the command logic. The update will give the model a
comparator before executing a sort and filter which is handled by the event consumer.</p>
</div>
<div class="sect5">
<h6 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h6>
<div class="sect6">
<h7 id="integrating-sort-br"><a class="link" href="#integrating-sort-br">Integrating sort<br></a></h7>
<div class="paragraph">
<p><strong>Alternative 1 (current choice):</strong> Integrate sort into existing commands.<br>
<strong>Pros:</strong> User can quickly sort and list or find the data as specified without executing another separate command.<br>
<strong>Cons:</strong> User might need to use the sort arguments for other purposes (e.g. <code>find n/</code> does not return anyone matching <code>n/</code>).<br>
<strong>Pros:</strong> Adds onto existing functionality and reduces clutter and unnecessary creation of a new command.<br>
<strong>Cons:</strong> Bad SLAP on a user level.<br></p>
</div>
<div class="paragraph">
<p><strong>Alternative 2:</strong> Create a new <code>sort</code> command.<br>
<strong>Pros:</strong> User can decide when to sort the current list view<br>
<strong>Cons:</strong> User needs an additional step before sorting a list.</p>
</div>
<hr>
</div>
<div class="sect6">
<h7 id="resetting-sort-comparator-on-code-add-code-commands-br"><a class="link" href="#resetting-sort-comparator-on-code-add-code-commands-br">Resetting sort comparator on <code>add</code> commands<br></a></h7>
<div class="paragraph">
<p><strong>Alternative 1 (current choice):</strong> Reset the current displayed list on an <code>add</code> command.<br>
<strong>Pros:</strong> The displayed list always complies with the model comparator.<br>
<strong>Cons:</strong> User might need to continue operating on the previous listing.<br></p>
</div>
<div class="paragraph">
<p><strong>Alternative 2:</strong> Append added person to the current list view.<br>
<strong>Pros:</strong> Users can immediately <code>edit</code> the person using the last listing index.<br>
<strong>Cons:</strong> The displayed listing will not comply with the model comparator.</p>
</div>
<hr>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-open-existing-file-and-create-new-file-commands"><a class="link" href="#enhancement-added-open-existing-file-and-create-new-file-commands">1.3. Enhancement Added: Open existing file and Create new file commands</a></h3>
<div class="sect3">
<h4 id="for-the-user-3"><a class="link" href="#for-the-user-3">1.3.1. For the User</a></h4>
<hr>
<div class="sect4">
<h5 id="code-open-code-code-o-code-code-cd-code-code-ls-code-or-code-code-opening-an-existing-rolodex-storage-file-em-since-v1-3-em"><a class="link" href="#code-open-code-code-o-code-code-cd-code-code-ls-code-or-code-code-opening-an-existing-rolodex-storage-file-em-since-v1-3-em"><code>open</code>, <code>o</code>, <code>cd</code>, <code>ls</code> or <code>&lt;</code>: Opening an Existing Rolodex Storage File <em>(Since v1.3)</em></a></h5>
<div class="paragraph">
<p>Reloads the application with data from a rolodex at the specified filepath.<br>
Format: <code>open FILEPATH</code> or <code>o FILEPATH</code><br>
Keyboard Shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>O</kbd></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Loads the rolodex at the specified <code>FILEPATH</code>.</p>
</li>
<li>
<p>The <code>FILEPATH</code> can be project-relative or any directory on the system.</p>
</li>
<li>
<p>The <code>FILEPATH</code> must be a file with xml formatted data.</p>
</li>
<li>
<p>The <code>FILEPATH</code> must end with a file extension .rldx in order for data to be saved.</p>
</li>
<li>
<p>If <code>FILEPATH</code> does not exist, use the <code>new</code> command instead.</p>
</li>
<li>
<p>The command recognizes directories in formats <kbd>/</kbd> or <kbd>\</kbd> as valid filepaths</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When the application is opened, Rolodex will load the last accessed Rolodex directory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>After opening the Rolodex, verify that you have correctly opened the Rolodex at the correct directory by checking the status bar of your application:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/OpenNewStatusBar.png" alt="OpenNewStatusBar" width="700">
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Opening a file without a <code>.rldx</code> extension <strong>will not save your changes</strong>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>open</code> command will refresh your session and all existing <em>undoable</em> commands will be cleared. It is recommended that you confirm you are satisfied with your changes before opening a new file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>open C:/Users/Rolodex/downloads/myOwn.rldx</code><br>
<code>o C:/Users/Rolodex/downloads/myOwn.rldx</code><br>
<code>o C:\Users\Rolodex\downloads\myOwn.rldx</code><br>
Loads the application with the data at the directory <code>C:/Users/Rolodex/downloads/myOwn.rldx</code>.</p>
</li>
<li>
<p><code>open data/default.rldx</code><br>
<code>open data\default.rldx</code><br>
Loads the application with the data in <code>default.rldx</code> in the folder <code>data</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="code-new-code-code-n-code-code-touch-code-or-code-code-creating-a-new-rolodex-storage-file-em-since-v1-3-em"><a class="link" href="#code-new-code-code-n-code-code-touch-code-or-code-code-creating-a-new-rolodex-storage-file-em-since-v1-3-em"><code>new</code>, <code>n</code>, <code>touch</code> or <code>&gt;</code>: Creating a New Rolodex Storage File <em>(Since v1.3)</em></a></h5>
<div class="paragraph">
<p>Creates a new Rolodex at the specified filepath and reloads the application with new sample data.<br>
Format: <code>new FILEPATH</code> or <code>n FILEPATH</code><br>
Keyboard Shortcut: <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>N</kbd></span></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Creates the rolodex at the specified <code>FILEPATH</code>.</p>
</li>
<li>
<p>The <code>FILEPATH</code> can be project-relative or any directory on the system.</p>
</li>
<li>
<p>The <code>FILEPATH</code> must end with a file extension .rldx in order for data to be created and saved.</p>
</li>
<li>
<p>If <code>FILEPATH</code> already exists, use the <code>open</code> command instead.</p>
</li>
<li>
<p>The command recognizes directories in formats <kbd>/</kbd> or <kbd>\</kbd> as valid filepaths</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>After creating a new Rolodex, verify that you have correctly created the Rolodex at the correct directory by checking the status bar of your application:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/OpenNewStatusBar.png" alt="OpenNewStatusBar" width="700">
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>new</code> command will refresh your session and all existing <em>undoable</em> commands will be cleared. It is recommended that you confirm you are satisfied with your changes before opening a new file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>new C:/Users/Rolodex/downloads/myOwn.rldx</code><br>
<code>n C:/Users/Rolodex/downloads/myOwn.rldx</code><br>
<code>n C:\Users\Rolodex\downloads\myOwn.rldx</code><br>
Creates a new Rolodex file <code>myOwn.rldx</code> at the directory <code>C:\Users\Rolodex\downloads</code> and reloads the application with sample data created for the new Rolodex.</p>
</li>
<li>
<p><code>new data/default.rldx</code><br>
<code>new data\default.rldx</code><br>
Creates a new Rolodex file <code>default.rldx</code> at the relative directory <code>data</code> and reloads the application with sample data created for the new Rolodex.</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="why-would-we-need-this-3"><a class="link" href="#why-would-we-need-this-3">1.3.2. Why would we need this?</a></h4>
<div class="paragraph">
<p>Users may want to work on a different group of data for different purposes.
Users with too many contacts can also create a separate database for dividing up the contacts into smaller,
more manageable sizes.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">1.3.3. Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="open-file-and-new-file-mechanism"><a class="link" href="#open-file-and-new-file-mechanism">Open File and New File Mechanism</a></h5>
<div class="paragraph">
<p>The open new file and creating new file mechanism are handled by two new types of requests under the <code>EventsCenter</code>,
<code>OpenRolodexRequestEvent</code> and <code>RolodexChangedDirectoryEvent</code>. Upon receiving a new command, the <code>MainApp</code> attempts to
reload the instance <code>model</code> and <code>logic</code> but <strong>not the <code>UI</code></strong>.</p>
</div>
<div class="paragraph">
<p>The high level sequence diagram for a typical <code>open</code> request can be seen below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/OpenNewHighLevelSequenceDiagram.png" alt="OpenNewHighLevelSequenceDiagram">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A user requests to open <code>data/default.rldx</code>.</p>
</li>
<li>
<p>The command is handled the same way as other commands, by the parser in
logic, then via the <code>OpenRolodexCommand</code> object itself, under the <code>Logic</code> component of the application.</p>
</li>
<li>
<p>Upon a successful parsing of the command and execution, the command would raise a new <code>OpenRolodexRequestEvent</code> to
be handled by the <code>EventsCenter</code>.</p>
</li>
<li>
<p>The <code>EventsCenter</code> posts a new <code>OpenRolodexRequestEvent</code> back to the <code>MainApp</code> where the new Rolodex path would be
loaded with the successfully read data from the file path specified:</p>
<div class="ulist">
<ul>
<li>
<p>The preferences file of the user specified under <code>config.json</code> would now point to the latest active directory.</p>
</li>
<li>
<p>The <code>storage</code>, <code>model</code> and <code>logic</code> instances of the <code>MainApp</code> would be now loaded with data from the new active directory.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The behaviour of the <code>save</code> operation remains unchanged, to be handled under the <code>RolodexChangedEvent</code>.
The Rolodex only writes to the active database upon an editor command (e.g. <code>add</code>, <code>edit</code>).
The <code>UI</code> however, is updated as seen in the following sequence diagram:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/OpenNewRolodexChangedLocationEventSequenceDiagram.png" alt="OpenNewRolodexChangedLocationEventSequenceDiagram">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Upon successful handling of a <code>OpenRolodexRequestEvent</code>, <code>MainApp</code> raises a new <code>RolodexChangedDirectoryEvent</code>.</p>
</li>
<li>
<p>The event is then reposted by the <code>EventsCenter</code>.</p>
</li>
<li>
<p>The <code>MainWindow</code> of the <code>UI</code> instance consumes the event and updates the status bar with the new active filepath.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <code>New</code> command only differs from the sequence of the open new Rolodex by being executed when no valid file exists at
the specified active directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {
    <span class="keyword">if</span> (<span class="keyword">new</span> <span class="predefined-type">File</span>(filePath).exists()) {
        <span class="keyword">throw</span>  <span class="keyword">new</span> CommandException(<span class="predefined-type">String</span>.format(MESSAGE_ALREADY_EXISTS, filePath));
    } <span class="keyword">else</span> {
        EventsCenter.getInstance().post(<span class="keyword">new</span> OpenRolodexRequestEvent(filePath));
        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_CREATING, filePath));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In contrast, the <code>Open</code> command is a reverse of the above:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Override</span>
<span class="directive">public</span> CommandResult execute() <span class="directive">throws</span> CommandException {
    <span class="keyword">if</span> (<span class="keyword">new</span> <span class="predefined-type">File</span>(filePath).exists()) {
        EventsCenter.getInstance().post(<span class="keyword">new</span> OpenRolodexRequestEvent(filePath));
        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(<span class="predefined-type">String</span>.format(MESSAGE_OPENING, filePath));
    } <span class="keyword">else</span> {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(<span class="predefined-type">String</span>.format(MESSAGE_NOT_EXIST, filePath));
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>XmlRolodexStorage.java</code> now only saves upon recognizing that the current file has a <code>.rldx</code> extension, which is a
subset of xml for the Rolodex application, as seen in the snippet below:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">void</span> saveRolodex(ReadOnlyRolodex rolodex, <span class="predefined-type">String</span> filePath) <span class="directive">throws</span> <span class="exception">IOException</span> {
    ...
    if (!isValidRolodexStorageExtension(filePath)) {
        <span class="keyword">throw</span> <span class="keyword">new</span> InvalidExtensionException(
                <span class="predefined-type">String</span>.format(MESSAGE_INVALID_EXTENSION_FORMAT, ROLODEX_FILE_EXTENSION));
    }
    ...
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h6>
<div class="sect6">
<h7 id="general-implementation-br"><a class="link" href="#general-implementation-br">General Implementation<br></a></h7>
<div class="paragraph">
<p><strong>Alternative 1 (current choice):</strong> Reload the current <code>MainApp</code> with the new database.<br>
<strong>Pros:</strong> The application can be quickly reloaded onto the active window.<br>
<strong>Cons:</strong> User might need to switch back and forth between the Rolodex directories.<br></p>
</div>
<div class="paragraph">
<p><strong>Alternative 2:</strong> Reload <code>MainApp</code> with a new application instance.<br>
<strong>Constraint:</strong> <a href="#java-fx">JavaFX</a> only allows launch(args) to be launched once per execution time on a code level.
Another approach would be to reload the application with a loaded and built .jar.<br>
<strong>Pros:</strong> Easier logic to understand for new developers.<br>
<strong>Cons:</strong> Building and debugging with a second .jar will be confusing and problematic to any development workflow.<br></p>
</div>
<div class="paragraph">
<p><strong>Alternative 3:</strong> Open a new window with the loaded data.<br>
<strong>Pros:</strong> The user can continue to operate on the previous Rolodex application.<br>
<strong>Cons:</strong> The developer would have to spend time configuring different <code>EventsCenter</code> posts for the different application windows.</p>
</div>
<hr>
</div>
<div class="sect6">
<h7 id="saving-only-to-files-with-code-rldx-code-extensions-br"><a class="link" href="#saving-only-to-files-with-code-rldx-code-extensions-br">Saving only to files with <code>.rldx</code> extensions<br></a></h7>
<div class="paragraph">
<p><strong>Alternative 1 (current choice):</strong> Write to the active directory only if it has a <code>.rldx</code> extension.<br>
<strong>Pros:</strong> The application control becomes stricter, preventing users from writing to a file with say a <code>.png</code> extension.<br>
<strong>Cons:</strong> Extensions become forced even for valid databases with <code>.xml</code> file types.<br></p>
</div>
<div class="paragraph">
<p><strong>Alternative 2:</strong> Allow writable to all file extensions.<br>
<strong>Pros:</strong> Users can have more freedom in choice of file naming.<br>
<strong>Cons:</strong> If the user accidentally writes to a file that is not a valid database, the user would corrupt the file data.</p>
</div>
<hr>
</div>
<div class="sect6">
<h7 id="separating-code-open-code-and-code-new-code-commands-br"><a class="link" href="#separating-code-open-code-and-code-new-code-commands-br">Separating <code>open</code> and <code>new</code> commands<br></a></h7>
<div class="paragraph">
<p><strong>Alternative 1 (current choice):</strong> Two commands, one for opening existing files and one for creating new files.<br>
<strong>Pros:</strong> The user can easily be notified if a file exists or if it has been moved.<br>
<strong>Cons:</strong> The user would have to take note of two commands instead of one.<br></p>
</div>
<hr>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-improved-code-java-util-set-code-implementation-for-command-abbreviations"><a class="link" href="#enhancement-improved-code-java-util-set-code-implementation-for-command-abbreviations">1.4. Enhancement Improved: <code>java.util.Set</code> implementation for command abbreviations</a></h3>
<div class="sect3">
<h4 id="why-would-we-need-this-4"><a class="link" href="#why-would-we-need-this-4">1.4.1. Why would we need this?</a></h4>
<div class="paragraph">
<p>Using constants to manually check if a command word belongs to a particular command is extremely tedious for both
developers and users. In addition, using constants forces the program to have to check through all possible command
abbreviations belonging to a command word in the worst case. A java <code>HashSet</code> takes care of these problems by improving
access time and improves manageability of the codebase.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">1.4.2. Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="abbreviation-mechanism"><a class="link" href="#abbreviation-mechanism">Abbreviation Mechanism</a></h5>
<div class="paragraph">
<p>The ability for users to enter a variety of different words for a same command is implemented using <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html"><code>java.util.set</code></a>.</p>
</div>
<div class="paragraph">
<p>An example as implemented in the open command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.util.HashSet</span>;
<span class="keyword">import</span> <span class="include">java.util.Set</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">OpenRolodexCommand</span> <span class="directive">extends</span> Command {

    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> COMMAND_WORD = <span class="string"><span class="delimiter">&quot;</span><span class="content">open</span><span class="delimiter">&quot;</span></span>;
    <span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; COMMAND_WORD_ABBREVIATIONS =
            <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;(<span class="predefined-type">Arrays</span>.asList(COMMAND_WORD, <span class="string"><span class="delimiter">&quot;</span><span class="content">o</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">cd</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">ls</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;</span><span class="delimiter">&quot;</span></span>));
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>COMMAND_WORD_ABBREVIATIONS</code> is implemented using a <code>java.util.HashSet</code> which offers reasonably fast access times.</p>
</div>
<div class="paragraph">
<p>The user would be able to use a wide variety of different commands such as <code>o</code>, <code>cd</code> like on Windows cmd, <code>ls</code> on
UNIX-like systems or the loose <code>&lt;</code> such as when you run a <code>java program &lt; input &gt; output</code> on a wide variety of systems.</p>
</div>
<div class="paragraph">
<p>It can easily be seen that using a set implementation, the developer would have an extremely easy time adding/ deleting
new abbreviations. A set implementation also allows an easy way of testing if there are conflicting abbreviations, by
simply permuting the <code>COMMAND_WORD_ABBREVIATIONS</code> property of all possible commands and checking if all permutations are
pairwise disjoint:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="directive">public</span> <span class="type">void</span> parseAllCommandAbbreviationsAreDisjoint() {
    <span class="predefined-type">ArrayList</span>&lt;Pair&lt;<span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt;, <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt;&gt;&gt; commandAbbreviationPermutations =
            generateCommandAbbreviationPermutations(POSSIBLE_COMMAND_ABBREVIATIONS);
    <span class="keyword">for</span> (Pair&lt;<span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt;, <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt;&gt; commandAbbreviationPair : commandAbbreviationPermutations) {
        assertTrue(<span class="predefined-type">Collections</span>.disjoint(commandAbbreviationPair.getKey(), commandAbbreviationPair.getValue()));
    }
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="design-considerations-4"><a class="link" href="#design-considerations-4">Design Considerations</a></h6>
<div class="sect6">
<h7 id="implementation-br"><a class="link" href="#implementation-br">Implementation<br></a></h7>
<div class="paragraph">
<p><strong>Alternative 1 (current choice):</strong> A <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html">Set</a> of strings<br>
<strong>Pros:</strong> Constant access time per command level. Improves performance and reliability significantly.<br>
<strong>Pros:</strong> Ease of testing for conflicting abbreviations, particularly where developers forget if they used a
same abbreviation for two different commands (e.g. assigning <code>h</code> to both the <code>history</code> and <code>help</code> commands).<br>
<strong>Cons:</strong> If you have a better suggestion than the above implementation, feel free to create a new issue for discussion
on <a href="https://github.com/CS2103AUG2017-W11-B2/main/issues">github</a>.<br></p>
</div>
<div class="paragraph">
<p><strong>Alternative 2 (previous choice):</strong> Manually named string Constants<br>
<strong>Pros:</strong> Forces developer to be more prudent in checking through the conflicting abbreviations.<br>
<strong>Cons:</strong> Developers would have to manually check through all commands to ensure the accuracy of the abbreviations,
which is time-consuming and makes way for human errors.<br>
<strong>Cons:</strong> A switch-case for all possible commands abbreviations would perform significantly slower than direct memory
access on a java <a href="https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html"><code>HashSet</code></a>, in the worst case.</p>
</div>
<hr>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-search-highlighting-in-helpwindow"><a class="link" href="#enhancement-added-search-highlighting-in-helpwindow">1.5. Enhancement Added: Search Highlighting in HelpWindow</a></h3>
<div class="sect3">
<h4 id="why-would-we-need-this-5"><a class="link" href="#why-would-we-need-this-5">1.5.1. Why would we need this?</a></h4>
<div class="paragraph">
<p>JavaFx&#8217;s native WebView does not allow the user to easily search a html document, putting it on a subpar standard to modern
web browsers. Implementing a search feature in the help window will allow the user to search for terms in the user guide with ease.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-5"><a class="link" href="#implementation-5">1.5.2. Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="help-window-highlighting"><a class="link" href="#help-window-highlighting">Help Window Highlighting</a></h5>
<div class="paragraph">
<p>Rolodex uses <a href="#java-fx">JavaFx</a> version <a href="http://javafx.com/javafx/8.0.111">8.0.111</a>, where WebView does not support
search functionality that mimics <kbd>Ctrl</kbd> + <kbd>F</kbd> capability of modern web browsers. As a workaround, Johann Burkard&#8217;s
<a href="http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html">jQuery text highlighting</a>
library is being used to implement such a feature.</p>
</div>
<div class="paragraph">
<p>Users can easily find keywords by using the highlighting feature of the help window, as opposed to manually looking through the
help document for information, which can be counterproductive:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Highlight.png" alt="Highlight" width="800">
</div>
</div>
<div class="paragraph">
<p>The discussion for <a href="#java-fx">JavaFX</a> to implement a native search feature within WebView is ongoing and you can find it
<a href="https://stackoverflow.com/questions/19418626/javafx-search-and-highlight-text-add-search-bar-for-loaded-web-page">here</a>.</p>
</div>
<div class="sect5">
<h6 id="removing-jquery-implementation"><a class="link" href="#removing-jquery-implementation">Removing jQuery implementation</a></h6>
<div class="paragraph">
<p>In a future version of <a href="#java-fx">JavaFx</a> where such an implementation is no longer necessary, you may revert the changes by reverting pull request
<a href="https://github.com/CS2103AUG2017-W11-B2/main/pull/99">#99</a> on the Rolodex repo on GitHub. You may also choose to manually do this by reverting the following code:</p>
</div>
<div class="paragraph">
<p>Original <code>HelpWindow.fxml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;StackPane</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">helpWindowRoot</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://javafx.com/javafx/8</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:fx</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://javafx.com/fxml/1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;WebView</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">browser</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="tag">&lt;/StackPane&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>HelpWindow.fxml</code> with makeshift user guide search functionality:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;StackPane</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">helpWindowRoot</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://javafx.com/javafx/8</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">xmlns:fx</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://javafx.com/fxml/1</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;VBox</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">layout</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;children&gt;</span>
            <span class="tag">&lt;TextField</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">txtSearch</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">promptText</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Search and press ENTER</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
                <span class="tag">&lt;HBox</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">controls</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                    <span class="tag">&lt;children&gt;</span>
                        <span class="tag">&lt;Button</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">btnSearch</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mnemonicParsing</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">text</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Search</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                            <span class="tag">&lt;HBox.margin&gt;</span>
                                <span class="tag">&lt;Insets</span> <span class="attribute-name">right</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">10.0</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
                            <span class="tag">&lt;/HBox.margin&gt;</span>
                        <span class="tag">&lt;/Button&gt;</span>
                        <span class="tag">&lt;Button</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">btnClear</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">mnemonicParsing</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">text</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Clear</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
                    <span class="tag">&lt;/children&gt;</span>
                <span class="tag">&lt;/HBox&gt;</span>
            <span class="tag">&lt;WebView</span> <span class="attribute-name">fx:id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">browser</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">minHeight</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">-Infinity</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">minWidth</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">-Infinity</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">prefHeight</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">100000.0</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;/children&gt;</span>
    <span class="tag">&lt;/VBox&gt;</span>
<span class="tag">&lt;/StackPane&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Original <code>HelpWindow.java</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FXML</span>
<span class="directive">private</span> WebView browser;

<span class="directive">private</span> <span class="directive">final</span> Stage dialogStage;

<span class="directive">public</span> HelpWindow() {
    <span class="local-variable">super</span>(FXML);
    Scene scene = <span class="keyword">new</span> Scene(getRoot());
    <span class="comment">//Null passed as the parent stage to make it non-modal.</span>
    dialogStage = createDialogStage(TITLE, <span class="predefined-constant">null</span>, scene);
    dialogStage.setMaximized(<span class="predefined-constant">true</span>); <span class="comment">//TODO: set a more appropriate initial size</span>
    FxViewUtil.setStageIcon(dialogStage, ICON);

    <span class="predefined-type">String</span> userGuideUrl = getClass().getResource(HELP_FILE_PATH).toString();
    browser.getEngine().load(userGuideUrl);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>HelpWindow.java</code> with makeshift user guide search functionality:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@FXML</span>
<span class="directive">private</span> WebView browser;

<span class="annotation">@FXML</span>
<span class="directive">private</span> <span class="predefined-type">TextField</span> txtSearch;

<span class="annotation">@FXML</span>
<span class="directive">private</span> <span class="predefined-type">Button</span> btnSearch;

<span class="annotation">@FXML</span>
<span class="directive">private</span> <span class="predefined-type">Button</span> btnClear;

<span class="annotation">@FXML</span>
<span class="directive">private</span> HBox controls;

<span class="directive">private</span> <span class="directive">final</span> Stage dialogStage;

<span class="directive">public</span> HelpWindow() {
    <span class="local-variable">super</span>(FXML);

    txtSearch.setOnAction(event -&gt; {
        <span class="keyword">if</span> (browser.getEngine().getDocument() != <span class="predefined-constant">null</span>) {
            highlight(browser.getEngine(), txtSearch.getText());
        }
    });

    btnSearch.setDefaultButton(<span class="predefined-constant">true</span>);
    btnSearch.setOnAction(actionEvent -&gt; txtSearch.fireEvent(<span class="keyword">new</span> <span class="predefined-type">ActionEvent</span>()));

    btnClear.setOnAction(actionEvent -&gt; clearHighlights(browser.getEngine()));
    btnClear.setCancelButton(<span class="predefined-constant">true</span>);

    controls.disableProperty().bind(browser.getEngine().getLoadWorker().runningProperty());
    txtSearch.disableProperty().bind(browser.getEngine().getLoadWorker().runningProperty());

    Scene scene = <span class="keyword">new</span> Scene(getRoot());
    <span class="comment">//Null passed as the parent stage to make it non-modal.</span>
    dialogStage = createDialogStage(TITLE, <span class="predefined-constant">null</span>, scene);
    dialogStage.setMaximized(<span class="predefined-constant">true</span>); <span class="comment">//TODO: set a more appropriate initial size</span>
    FxViewUtil.setStageIcon(dialogStage, ICON);

    <span class="predefined-type">String</span> userGuideUrl = getClass().getResource(HELP_FILE_PATH).toString();
    browser.getEngine().load(userGuideUrl);
}

<span class="directive">private</span> <span class="type">void</span> highlight(WebEngine engine, <span class="predefined-type">String</span> text) {
    engine.executeScript(<span class="string"><span class="delimiter">&quot;</span><span class="content">$('body').removeHighlight().highlight('</span><span class="delimiter">&quot;</span></span> + text + <span class="string"><span class="delimiter">&quot;</span><span class="content">')</span><span class="delimiter">&quot;</span></span>);
}

<span class="directive">private</span> <span class="type">void</span> clearHighlights(WebEngine engine) {
    engine.executeScript(<span class="string"><span class="delimiter">&quot;</span><span class="content">$('body').removeHighlight()</span><span class="delimiter">&quot;</span></span>);
    txtSearch.clear();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Help.adoc</code> passthrough imports:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/javascript</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">scripts/jquery-3.2.1.min.js</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span>
<span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/javascript</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">scripts/jquery.highlight-5.js</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/script&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>asciidoctor.css</code> <code>.highlight</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="css"><span class="class">.highlight</span>{<span class="key">background-color</span>:<span class="value">yellow</span>}</code></pre>
</div>
</div>
<hr>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-suggesting-commands-for-typos"><a class="link" href="#enhancement-added-suggesting-commands-for-typos">1.6. Enhancement Added: Suggesting Commands for Typos</a></h3>
<div class="sect3">
<h4 id="for-the-user-4"><a class="link" href="#for-the-user-4">1.6.1. For the User</a></h4>
<hr>
<div class="sect4">
<h5 id="code-y-code-or-code-yes-code-or-code-k-code-or-code-ok-code-or-code-yea-code-or-code-yeah-code-confirming-a-suggested-command-em-since-v1-5-em"><a class="link" href="#code-y-code-or-code-yes-code-or-code-k-code-or-code-ok-code-or-code-yea-code-or-code-yeah-code-confirming-a-suggested-command-em-since-v1-5-em"><code>y</code> or <code>yes</code> or <code>k</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code>: Confirming a suggested command <em>(Since v1.5)</em></a></h5>
<div class="paragraph">
<p>Confirms a command suggested by Rolodex.<br>
Format: <code>y</code> or <code>yes</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code><br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A command will be suggested by Rolodex if you make a typo in your command.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>s3</code>, a typo for the command <code>s 3</code> will be suggested.
<code>y</code> or <code>yes</code> or <code>k</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code> executes <code>s 3</code> as normal and <em>Charlotte Oliviero</em> will be selected:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionSelect.png" alt="SuggestionSelect" width="700">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rmke3 Likes to swim</code> will be suggested as the formatted command, <code>rmk 3 r/Likes to swim</code>.
<code>y</code> or <code>yes</code> or <code>k</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code> executes <code>rmk 3 r/Likes to swim</code> as normal and <code>Likes to swim</code> will be added to <em>Charlotte Oliviero</em>:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionRemark.png" alt="SuggestionRemark" width="700">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>add Linda Jean 410 Madison Avenue NY 10029 friends neighbours <a href="mailto:ab@de.fg">ab@de.fg</a> 98437653</code> will be suggested as the formatted command,
<code>add n/Hansel Black p/98437653 e/ab@de.fg a/410 Madison Avenue NY 10029 t/friends t/neighbours</code>.
<code>y</code> or <code>yes</code> or <code>k</code> or <code>ok</code> or <code>yea</code> or <code>yeah</code> executes the <code>add</code> command as normal and <em>Linda Jean</em> with appropriate fields will be added to the Rolodex:</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionAdd.png" alt="SuggestionAdd" width="700">
</div>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="why-would-we-need-this-6"><a class="link" href="#why-would-we-need-this-6">1.6.2. Why would we need this?</a></h4>
<div class="paragraph">
<p>Users may find it too much of a hassle to remember many of the syntaxes required by Rolodex such as <code>n/</code>, <code>r/</code>, etc.
Suggesting commands for such occasions would give the user a shallow learning curve and improve user experience significantly.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-6"><a class="link" href="#implementation-6">1.6.3. Implementation</a></h4>
<hr>
<div class="sect4">
<h5 id="suggestions-mechanism"><a class="link" href="#suggestions-mechanism">Suggestions Mechanism</a></h5>
<div class="paragraph">
<p>The suggestion mechanism is implemented at Rolodex&#8217;s parser level under the logic component.
The suggestion is stored as an instance object to be evaluated only if the next command matches any of the suggestion&#8217;s <em>affirmation commands</em>, <code>y</code>, <code>yes</code>, <code>k</code>, <code>ok</code>, <code>yea</code> or <code>yeah</code>, otherwise, the suggestion is destroyed.
Upon receiving a bogus command, the command string is evaluated by the suggestion object which determines if it can be turned into a valid suggestion to be executed.</p>
</div>
<div class="paragraph">
<p>For this section&#8217;s explanation of the suggestions mechanism, the terms <em>commandWord</em>, <em>arguments</em> or <em>rawArgs</em> are usually a reference to the following:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionParseLabel.png" alt="SuggestionParseLabel">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>commandWord</em>: The first resulting word in a whitespace delimited string.</p>
</li>
<li>
<p><em>rawArgs</em>: The raw argument string to be parsed for the suggestion, after excluding the <em>commandWord</em>.</p>
</li>
<li>
<p><em>arguments</em>: Can be the same meaning or <em>rawArgs</em> or mean arguments in a broader context. Please adjust to the context if necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The high level sequence diagram for a bogus <code>udon is yummy</code> request can be seen below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionHighLevelSequenceDiagram.png" alt="SuggestionHighLevelSequenceDiagram">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters a bogus command <code>udon is yummy</code>.</p>
</li>
<li>
<p><code>RolodexParser</code> parses the command and separates the string <code>udon is yummy</code> into the commandWord, <code>udon</code> and arguments, <code>is yummy</code>.</p>
<div class="ulist">
<ul>
<li>
<p><code>udon</code> is not a recognized command word</p>
</li>
<li>
<p>The execution is passed on to a new Suggestion instance.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Suggestion determines which command abbreviation <code>udon</code> is closest to up to a <em>specified threshold</em>, which in this case, is <code>undo</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Since <code>undo</code> does not require any arguments, the supplied arguments <code>is yummy</code> are ignored</p>
</li>
<li>
<p>The suggestion is noted as a suggestible exception.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The suggestion is stored as an instance variable in <code>RolodexParser</code>.</p>
</li>
<li>
<p><code>RolodexParser</code> throws a <code>SuggestibleParseException</code> to be handled separately from <code>ParseException</code> by UI elements.</p>
<div class="ulist">
<ul>
<li>
<p>The <code>CommandBox</code> is cleared to make way for the user to easily enter any of the suggestion <em>affirmation commands</em>.</p>
</li>
<li>
<p>The <code>ResultDisplay</code> panel displays a formatted string for the suggestion of the command to be alternatively executed.</p>
</li>
</ul>
</div>
</li>
<li>
<p>At this point, the user enters an <em>affirmation command</em>, <code>k</code> for the <code>RolodexParser</code> to be handled.</p>
</li>
<li>
<p>As a suggestion is present in <code>RolodexParser</code>, the user input <code>k</code> is converted into the parsed <code>Suggestion</code> and handled as usual.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The behaviour of the <code>undo</code> operation remains unchanged, as explained in the <a href="#Undo/Redo Mechanism">[Undo/Redo Mechanism]</a> section.
The suggestions are not limited <code>undo</code> commands and are applicable to all commands in the Rolodex.<br>
Levenshtein distance is used to determine the closest command to the whitespace delimited first user input.
If two command abbreviations are of equal distance to the bogus word, an arbitrary command is selected for the suggestion.<br></p>
</div>
<div class="paragraph">
<p>The suggestions are handled differently by different types of <code>Command</code>.</p>
</div>
<div class="sect5">
<h6 id="commands-with-no-arguments"><a class="link" href="#commands-with-no-arguments">Commands with No Arguments</a></h6>
<div class="paragraph">
<p>The behaviour of commands that are known to have no arguments by default, namely,</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Clear</code></p>
</li>
<li>
<p><code>List</code></p>
</li>
<li>
<p><code>History</code></p>
</li>
<li>
<p><code>Exit</code></p>
</li>
<li>
<p><code>Help</code></p>
</li>
<li>
<p><code>Undo</code></p>
</li>
<li>
<p><code>Redo</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>are handled in a manner similar to <code>undo</code> as described above. The arguments are ignored.</p>
</div>
</div>
<div class="sect5">
<h6 id="commands-with-a-single-index-type-argument"><a class="link" href="#commands-with-a-single-index-type-argument">Commands with a Single Index Type Argument</a></h6>
<div class="paragraph">
<p>The commands that hold a single, indexed type argument are</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Delete</code></p>
</li>
<li>
<p><code>Select</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These commands require an argument of an index type, within the range from 1 to the total number of persons in the Rolodex.
The behaviour of index parsing can be seen as such:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="type">int</span> parseFirstIndex(<span class="predefined-type">String</span> value, <span class="type">int</span> rolodexSize) <span class="directive">throws</span> <span class="exception">NumberFormatException</span> {
    <span class="predefined-type">Matcher</span> m = <span class="predefined-type">Pattern</span>.compile(INDEX_VALIDATION_REGEX).matcher(value);
    <span class="keyword">while</span> (m.find()) {
        <span class="type">int</span> firstIndex = <span class="predefined-type">Math</span>.abs(<span class="predefined-type">Integer</span>.parseInt(m.group()));
        <span class="keyword">if</span> (firstIndex &gt; <span class="integer">0</span> &amp;&amp; firstIndex &lt;= rolodexSize) {
            <span class="keyword">return</span> firstIndex;
        }
    }
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">NumberFormatException</span>();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The algorithm searches for instances of an integer in the supplied string and checks if it falls within the possible range of indices.
If no more integers can be found, the method throws a <code>NumberFormatException</code> to be converted into an non-suggestible <code>ParseException</code>.</p>
</div>
<div class="paragraph">
<p>Sometimes users may include the index in the command word, without a whitespace separation. To handle such a case,
we first look for the index within the arguments, as usual. If no valid indices are found, we search the command word instead.</p>
</div>
<div class="paragraph">
<p>For example, the invalid command string <code>s3lect</code>,</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionSelectInvalid.png" alt="SuggestionSelectInvalid" width="800">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>RolodexParser</code> determines that the closest command word to <code>s3lect</code> is <code>select</code> and use parse logic for single index typed arguments.</p>
</li>
<li>
<p>The parser would attempt to search for an index in the empty arguments and fail.</p>
</li>
<li>
<p>The parser then attempts to search for an index in the command word and finds <code>3</code>.</p>
</li>
<li>
<p>The parser builds the arguments into the formatted command string, <code>select 3</code> and prompts the user:</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionSelectPrompt.png" alt="SuggestionSelectPrompt" width="800">
</div>
</div>
<div class="paragraph">
<p>Should the user choose to execute the prompted command, the person <em>Alpha Charlie</em> would be selected.</p>
</div>
</div>
<div class="sect5">
<h6 id="commands-with-directory-type-arguments"><a class="link" href="#commands-with-directory-type-arguments">Commands with Directory Type Arguments</a></h6>
<div class="paragraph">
<p>The commands that hold a single file path argument are</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Open</code></p>
</li>
<li>
<p><code>New</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Arguments for these commands are parsed by using the same filepath validation as seen in <a href="#open-file-and-new-file-mechanism">Open File and New File Mechanism</a>,
except with looser regex that does not validate from the beginning to the end of the string given.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> FILEPATH_REGEX_NON_STRICT = <span class="string"><span class="delimiter">&quot;</span><span class="content">(.+)/([^/]+)</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The rest of the string is then formatted into a valid file path and a <code>.rldx</code> extension is added to the end of the string.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">String</span> parseFirstFilePath(<span class="predefined-type">String</span> value) <span class="directive">throws</span> <span class="exception">IllegalArgumentException</span> {
    <span class="predefined-type">Matcher</span> m = <span class="predefined-type">Pattern</span>.compile(FILEPATH_REGEX_NON_STRICT).matcher(replaceBackslashes(value).trim());
    <span class="keyword">if</span> (m.find() &amp;&amp; isValidRolodexStorageFilepath(m.group())) {
        <span class="keyword">return</span> m.group().replaceAll(ROLODEX_FILE_EXTENSION, <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>).trim() + ROLODEX_FILE_EXTENSION;
    }
    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">IllegalArgumentException</span>();
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="find-command-suggestions"><a class="link" href="#find-command-suggestions">Find Command Suggestions</a></h6>
<div class="paragraph">
<p>The <code>find</code> command uses a simpler suggestion format by simply taking all arguments, checking if it is not empty and returning it all together.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">String</span> parseArguments(<span class="predefined-type">String</span> rawArgs) {
    <span class="comment">// Check if null and is a non-empty string.</span>
    requireNonNull(rawArgs);
    <span class="keyword">if</span> (!rawArgs.trim().isEmpty()) {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + rawArgs.trim();
    }
    <span class="keyword">return</span> <span class="predefined-constant">null</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="remark-email-command-suggestions"><a class="link" href="#remark-email-command-suggestions">Remark/Email Command Suggestions</a></h6>
<div class="paragraph">
<p>The <code>Remark</code> and <code>Email</code> command are in the format of</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>a command word followed by,</p>
</li>
<li>
<p>an index then,</p>
</li>
<li>
<p>a memo field.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For the remark command, the memo is simply the remark to be entered into the person&#8217;s remark field, preceded by the prefix <code>r/</code>.<br>
The email command&#8217;s memo field is the subject of the email to be sent, preceded by the prefix <code>s/</code>.</p>
</div>
<div class="paragraph">
<p>Similar to <a href="#commands-with-a-single-index-type-argument">Commands with a Single Index Type Argument</a>, if the index does not exist in the arguments, the command word is checked instead.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">String</span> parseArguments(<span class="predefined-type">String</span> commandWord, <span class="predefined-type">String</span> rawArgs) {
    <span class="comment">// Check if index (number) exists, removes Remark prefix (if it exists) and re-adds it before returning.</span>
    <span class="keyword">if</span> (isParsableIndex(rawArgs, getLastRolodexSize())) {
        <span class="predefined-type">String</span> indexString = <span class="predefined-type">Integer</span>.toString(parseFirstIndex(rawArgs, getLastRolodexSize()));
        <span class="predefined-type">String</span> remark = parseRemoveFirstIndex(rawArgs, getLastRolodexSize()).trim().replace(PREFIX_REMARK.toString(), <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>);
        <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + indexString + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + PREFIX_REMARK + remark;
    } <span class="keyword">else</span> <span class="keyword">if</span> (isParsableIndex(commandWord, getLastRolodexSize())) {
        <span class="predefined-type">String</span> indexString = <span class="predefined-type">Integer</span>.toString(parseFirstIndex(commandWord, getLastRolodexSize()));
        <span class="predefined-type">String</span> remark = rawArgs.trim().replace(PREFIX_REMARK.toString(), <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>);
        <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + indexString + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + PREFIX_REMARK + remark;
    }
    <span class="keyword">return</span> <span class="predefined-constant">null</span>;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, instead of stopping at the index, the remainder of the arguments after the index has been removed is parsed as the memo field&#8217;s contents.</p>
</div>
</div>
<div class="sect5">
<h6 id="add-command-suggestions"><a class="link" href="#add-command-suggestions">Add Command Suggestions</a></h6>
<div class="paragraph">
<p>When adding a new person, we have to note that a <code>Person</code> has four compulsory fields, <code>Name</code>, <code>Phone</code>, <code>Email</code> and <code>Address</code>.
<code>Tag</code> and <code>Remark</code> are optional and have to be handled accordingly.</p>
</div>
<div class="paragraph">
<p>The implementation for <code>Add</code> suggestions follow a decision flow model that can be seen through the following activity diagram, from <code>AddCommandParser.parseArguments(rawArgs)</code> execution point of view:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionAddActivityDiagram.png" alt="SuggestionAddActivityDiagram" width="600">
</div>
</div>
<div class="paragraph">
<p>During the handling of a suggestible command arguments for an <code>Add</code> command,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>rawArgs</code> is set to be the initial value of the remaining arguments.</p>
</li>
<li>
<p>Mandatory <code>Phone</code> is checked first. If present, extract, remove and continue. Otherwise stop execution and return as non-suggestible.</p>
<div class="ulist">
<ul>
<li>
<p>Phones are expected to match the phone regex,</p>
</li>
<li>
<p>having a minimum of digits, or</p>
</li>
<li>
<p>optionally prepended with a <code>+</code>,</p>
</li>
<li>
<p>making it easily distinguishable from other numeric formats like the index, building numbers or postal codes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Mandatory <code>Email</code> is checked. If present, extract, remove and continue. Otherwise stop execution and return as non-suggestible.</p>
<div class="ulist">
<ul>
<li>
<p>Emails are expected to have the <code>@</code> character inside them and regex matching is straightforward,</p>
</li>
<li>
<p>making emails easily distinguishable from other fields.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Existing <code>Tag</code> words are checked. If present, extract, remove and continue. Otherwise continue.</p>
<div class="ulist">
<ul>
<li>
<p>Words (remaining string delimited by whitespace) that are also tags in the Rolodex session are <em>existing tag words</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tag prefixes (<code>t/</code>) are checked. If present, extract, remove and continue. Otherwise continue.</p>
<div class="ulist">
<ul>
<li>
<p><code>t/TAG</code> behavior as per normal.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Remark prefixes (<code>r/</code>) are checked. If present, extract, remove and continue. Otherwise continue.</p>
<div class="ulist">
<ul>
<li>
<p><code>r/REMARKS</code> behavior as per normal.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Mandatory <code>Address</code> is checked. If present, extract, remove and continue. Otherwise stop execution and return as non-suggestible.</p>
<div class="ulist">
<ul>
<li>
<p>Addresses commonly begin with <code>Blk</code>, <code>Block</code> or a short number</p>
</li>
<li>
<p>Addresses are expected to be entered after a name (i.e. <code>COMMAND NAME &#8230;&#8203; ADDRESS</code>),
making it <em>highly possible</em> to obtain the address by getting the substring from the first occurrence of <code>Blk</code>, <code>Block</code> or the number to the end of the remaining string.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Mandatory <code>Name</code> is checked. If present, extract, remove and continue. Otherwise stop execution and return as non-suggestible.</p>
<div class="ulist">
<ul>
<li>
<p>Name is the last mandatory argument to be parsed.</p>
</li>
<li>
<p>Name must be non-empty and matches the defined name regex.</p>
</li>
<li>
<p>The unpredictable nature of name words makes it difficult to identify a person&#8217;s name.</p>
</li>
<li>
<p>As seen in <code>Address</code>, if <code>Name</code> is entered after (to the right of) <code>Address</code>,
there would be no remaining words to be parsed. Since <code>Name</code> must be non-empty, if it is empty, then <code>Name</code> is not present.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Build the arguments into a formatted command argument string.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As observed via the decision flow, the suggestion does not always suggest the correct format so it is up to the user to validate the command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Any missing compulsory fields will result in an immediate failure of the command as specified by a person&#8217;s requirements.
Optional arguments, on the other hand, may not be present and are represented as empty strings when sent to the final argument builder.</p>
</div>
<div class="paragraph">
<p>If any of the prefixes are missing, they will be added when the parsed arguments are built, with the exception of remarks and tags with prefixes.</p>
</div>
<div class="paragraph">
<p>Given a typical unformatted add command string without prefixes <code>add Bobby Lee <a href="mailto:bobby@lee.com">bobby@lee.com</a> 583 Lexington Avenue NY 10048 friends 95849301</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AddBobbyCommand.png" alt="AddBobbyCommand" width="800">
</div>
</div>
<div class="paragraph">
<p>We should receive the following suggestion <code>Did you mean add n/Bobby Lee p/95849301 e/bobby@lee.com a/583 Lexington Avenue NY 10048 t/friends?</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AddBobbySuggestion.png" alt="AddBobbySuggestion" width="800">
</div>
</div>
<div class="paragraph">
<p>Using the decision flow modeled above, we can see that the argument suggestions were parsed in the following order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Bobby&#8217;s phone, <code>95849301</code> is detected as a long number and is extracted first.</p>
</li>
<li>
<p>The email, <code>bobby@lee.com</code> is detected as the <code>@</code> character is present and is extracted.</p>
</li>
<li>
<p>The tag, <code>friends</code> is an existing tag in the currently loaded Rolodex and we can extract <code>friends</code> as a tag.</p>
</li>
<li>
<p>The address, <code>583 Lexington Avenue NY 10048</code> begins with a short number and will be picked up till the end of the remaining string.</p>
</li>
<li>
<p>The remainder of the arguments should only contain <code>Bobby Lee</code> and is matched as his name.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
As the <code>Add</code> command&#8217;s decision flow requires many acyclic execution paths to its parser, its corresponding NPath complexity
is known to be large.
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="edit-command-suggestions"><a class="link" href="#edit-command-suggestions">Edit Command Suggestions</a></h6>
<div class="paragraph">
<p>Unlike the <code>Add</code> command, the <code>Edit</code> command only requires optional (minimum 1) fields and we handle all fields as such.
However, the <code>Edit</code> command also requires <a href="#commands-with-a-single-index-type-argument">a mandatory argument of an index type</a>,
similar to <a href="#remark-email-command-suggestions">Remark/Email Command Suggestions</a>.</p>
</div>
<div class="paragraph">
<p>The implementation for <code>Edit</code> suggestions follow a decision flow model that can be seen through the following activity diagram, from <code>EditCommandParser.parseArguments(commandWord, rawArgs)</code> execution point of view:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SuggestionEditActivityDiagram.png" alt="SuggestionEditActivityDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>During the handling of a suggestible command arguments for an <code>Edit</code> command,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>rawArgs</code> is set to be the initial value of the remaining arguments.</p>
</li>
<li>
<p>Mandatory <code>Index</code> is checked in the remaining arguments first. If present, extract, remove and continue. Otherwise,</p>
<div class="ulist">
<ul>
<li>
<p>Mandatory `Index is checked in command word. If present, extract, remove and continue. Otherwise stop execution and return as non-suggestible.</p>
</li>
<li>
<p>Index extraction is similar to behavior in <a href="#commands-with-a-single-index-type-argument">Commands with a Single Index Type Argument</a> section.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Optional <code>Phone</code> is checked first. If present, extract, remove and continue. Otherwise continue.</p>
<div class="ulist">
<ul>
<li>
<p>Phones are expected to match the phone regex,</p>
</li>
<li>
<p>having a minimum of digits, or</p>
</li>
<li>
<p>optionally prepended with a <code>+</code>,</p>
</li>
<li>
<p>making it easily distinguishable from other numeric formats like the index, building numbers or postal codes.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Optional <code>Email</code> is checked. If present, extract, remove and continue. Otherwise continue.</p>
<div class="ulist">
<ul>
<li>
<p>Emails are expected to have the <code>@</code> character inside them and regex matching is straightforward,</p>
</li>
<li>
<p>making emails easily distinguishable from other fields.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Existing <code>Tag</code> words are checked. If present, extract, remove and continue. Otherwise continue.</p>
<div class="ulist">
<ul>
<li>
<p>Words (remaining string delimited by whitespace) that are also tags in the Rolodex session are <em>existing tag words</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tag prefixes (<code>t/</code>) are checked. If present, extract, remove and continue. Otherwise continue.</p>
<div class="ulist">
<ul>
<li>
<p><code>t/TAG</code> behavior as per normal.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Remark prefixes (<code>r/</code>) are checked. If present, extract, remove and continue. Otherwise continue.</p>
<div class="ulist">
<ul>
<li>
<p><code>r/REMARKS</code> behavior as per normal.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Optional <code>Address</code> is checked. If present, extract, remove and continue. Otherwise continue.</p>
<div class="ulist">
<ul>
<li>
<p>Addresses commonly begin with <code>Blk</code>, <code>Block</code> or a short number</p>
</li>
<li>
<p>Addresses are expected to be entered after a name (i.e. <code>COMMAND NAME &#8230;&#8203; ADDRESS</code>),
making it <em>highly possible</em> to obtain the address by getting the substring from the first occurrence of <code>Blk</code>, <code>Block</code> or the number to the end of the remaining string.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Optional <code>Name</code> is checked. If present, extract, remove and continue. Otherwise continue.</p>
<div class="ulist">
<ul>
<li>
<p>Name is the last mandatory argument to be parsed.</p>
</li>
<li>
<p>Name must be non-empty and matches the defined name regex.</p>
</li>
<li>
<p>The unpredictable nature of name words makes it difficult to identify a person&#8217;s name.</p>
</li>
<li>
<p>As seen in <code>Address</code>, if <code>Name</code> is entered after (to the right of) <code>Address</code>,
there would be no remaining words to be parsed. Since <code>Name</code> must be non-empty, if it is empty, then <code>Name</code> is not present.</p>
</li>
</ul>
</div>
</li>
<li>
<p>If no arguments exist (i.e. <code>Name</code>, <code>Phone</code>, <code>Email</code>, <code>Address</code>, <code>Tag</code>, <code>Remark</code> are all empty strings), return as non-suggestible.
Otherwise, build the arguments into a formatted command argument string.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As observed via the decision flow, the suggestion does not always suggest the correct format so it is up to the user to validate the command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Any missing or invalid index would result in an immediate failure of the command as specified by the command specifications.
Optional arguments, on the other hand, may not be present and are represented as empty strings when sent to the final argument builder.
However, if completely no arguments exist (e.g. <code>edit 1</code>), the Edit parser would fail a well, defaulting to the original behavior.</p>
</div>
<div class="paragraph">
<p>If any of the prefixes are missing, they will be added when the parsed arguments are built, with the exception of remarks and tags with prefixes.</p>
</div>
<div class="paragraph">
<p>Given a typical unformatted edit command string with an invalid address prefix <code>edit1 p/911A Lexington Avenue</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/EditBobbyCommand.png" alt="EditBobbyCommand" width="800">
</div>
</div>
<div class="paragraph">
<p>We should receive the following suggestion <code>Did you mean edit 1 a/911A Lexington Avenue?</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/EditBobbySuggestion.png" alt="EditBobbySuggestion" width="800">
</div>
</div>
<div class="paragraph">
<p>Using the decision flow modeled above, we can see that the argument suggestions were parsed in the following order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The index, <code>1</code> is incorrectly placed within the command word. <code>911</code> is attempted but since 911 is greater than the Rolodex&#8217;s size, no index can be found in the arguments.</p>
</li>
<li>
<p>The index, <code>1</code> is matched in the command word and extracted.</p>
</li>
<li>
<p>No phone is matched. <code>911</code> is detected as a short number and is skipped. The prefix <code>p/</code> is removed.</p>
</li>
<li>
<p>No email is matched.</p>
</li>
<li>
<p>No tags are matched.</p>
</li>
<li>
<p>No remarks are matched.</p>
</li>
<li>
<p>The address, <code>911A Lexington Avenue</code> begins with a short number and will be picked up till the end of the remaining string.</p>
</li>
<li>
<p>The remainder of the arguments are empty when trimmed.</p>
</li>
<li>
<p>Address is the only valid optional field present and the command is suggested as <code>edit 1 a/911A Lexington Avenue</code>.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
As the <code>Edit</code> command&#8217;s decision flow requires many acyclic execution paths to its parser, its corresponding NPath complexity
is known to be large.
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="design-considerations-5"><a class="link" href="#design-considerations-5">Design Considerations</a></h6>
<div class="sect6">
<h7 id="add-edit-field-matching-br"><a class="link" href="#add-edit-field-matching-br">Add/Edit Field Matching<br></a></h7>
<div class="paragraph">
<p><strong>Alternative 1 (current choice):</strong> Parsing easy fields first, then parsing address before name in the <code>Add</code> command.<br>
<strong>Pros:</strong> Application behaves sufficiently well and efficiently in matching field data given certain input assumptions.<br>
<strong>Pros:</strong> Shallow learning curve for new users to learn application functions.<br>
<strong>Cons:</strong> Extremely high NPath complexity<br>
<strong>Cons:</strong> Deviates from the Object-Oriented nature of the codebase into a procedural/functional style.<br></p>
</div>
<div class="paragraph">
<p><strong>Alternative 2:</strong> Dictionary analysis of field data.<br>
<strong>Pros:</strong> Easier logic to understand for new developers.<br>
<strong>Cons:</strong> Maintaining dictionary would be taxing on the development team and may get outdated as data keeps getting outdated.<br>
<strong>Cons:</strong> Memory performance decreases drastically as memory has to be used to load dictionary into memory for field analysis.<br>
<strong>Cons:</strong> Storage performance decreases drastically as space has to be used to store dictionary.<br></p>
</div>
<div class="paragraph">
<p><strong>Alternative 3:</strong> No suggestions for add/edit<br>
<strong>Pros:</strong> Clean codebase.<br>
<strong>Cons:</strong> Steep learning curve for new users to learn application functions.</p>
</div>
<hr>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-markdown-html-parser"><a class="link" href="#enhancement-proposed-markdown-html-parser">1.7. Enhancement Proposed: Markdown/HTML parser</a></h3>
<div class="paragraph">
<p>To replace the content field of the note/remark command with 'rich-text', to be displayed on the browser panel.</p>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">1.8. Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Added continuous integration tools using <a href="https://travis-ci.org/CS2103AUG2017-W11-B2/main">Travis CI</a>,
<a href="https://ci.appveyor.com/project/ZY-Ang/main">AppVeyor</a>,
<a href="https://coveralls.io/github/CS2103AUG2017-W11-B2/main?branch=master">Coveralls</a> and
<a href="https://www.codacy.com/app/ZY-Ang/main/dashboard">Codacy</a>.</p>
</li>
<li>
<p>Added a simple navbar to the github pages for ease of navigation.</p>
</li>
<li>
<p>Managed projects and devOps.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-a-href-https-zy-ang-github-io-autonamegenerator-autonamegenerator-a"><a class="link" href="#project-a-href-https-zy-ang-github-io-autonamegenerator-autonamegenerator-a">2. Project: <a href="https://zy-ang.github.io/AutoNameGenerator/">AutoNameGenerator</a></a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="other-projects"><a class="link" href="#other-projects">3. Other projects</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can view my full portfolio <a href="https://zy-ang.github.io/Portfolio">here</a>.</p>
</div>
<div id="navbar" class="ulist nav-headbar">
<ul>
<li>
<p><a href="https://cs2103aug2017-w11-b2.github.io/main/">Home</a></p>
</li>
<li>
<p><a href="https://cs2103aug2017-w11-b2.github.io/main/UserGuide.html">User Guide</a></p>
</li>
<li>
<p><a href="https://cs2103aug2017-w11-b2.github.io/main/DeveloperGuide.html">Developer Guide</a></p>
</li>
<li>
<p><a href="https://cs2103aug2017-w11-b2.github.io/main/AboutUs.html">About</a></p>
</li>
<li>
<p><a href="https://cs2103aug2017-w11-b2.github.io/main/ContactUs.html">Contact</a></p>
</li>
<li>
<p><a href="https://github.com/CS2103AUG2017-W11-B2/main">Github</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 08:48:06 +00:00
</div>
</div>
</body>
</html>